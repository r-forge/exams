<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/assets/xslt/rss.xslt" ?>
<?xml-stylesheet type="text/css" href="/assets/css/rss.css" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>R/exams</title>
		<description>Automatic generation  and evaluation of exams. From Markdown, LaTeX and R code to standalone documents, learning management systems and live voting.</description>
		<link>http://www.R-exams.org/</link>
		<atom:link href="http://www.R-exams.org/feed.xml" rel="self" type="application/rss+xml" />
		
    
    
			<item>
        <title><![CDATA[Transitioning a Soil Mechanics Course to R/exams]]></title>
				<link>http://www.R-exams.org/general/uibk_soilmechanics/</link>
        <pubDate>Mon, 31 Aug 2020 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Experiences with transitioning to R/exams for multiple automated and randomized online exams in a soil mechanics course at Universität Innsbruck (UIBK).</p>
    
    
    <p><img alt="Transitioning a Soil Mechanics Course to R/exams" src="http://www.R-exams.org/images/uibk_soilmechanics.title.svg" /></p>
    
    <p>Guest post by <a href="https://www.uibk.ac.at/geotechnik/staff/wolfgang_fellin.html">Wolfgang Fellin</a> (Universität Innsbruck, Division of Geotechnical and Tunnel Engineering).</p>

<h2 id="background">Background</h2>

<p>Our exercises in soil mechanics are attended by about 120 students every year. Students receive
their grades based on a final exam, with a multiple-choice part and additional small exercises with
calculations. Due to the COVID-19 restrictions we were forced to switch from the written exams to
online exams at rather short notice, for which we decided to use <a href="http://www.R-exams.org">R/exams</a> to randomize the exercises.
The possibility that the exercises produced can be used in the following (hopefully COVID-free years) as part of a blended
learning course made the decision for the (not so small) effort to switch to R/exams easy.</p>

<h2 id="transition-of-multiple-choice-exercises">Transition of multiple-choice exercises</h2>

<p>To leverage the about 100 multiple-choice exercises from our old question pool, we had to convert them to
the <a href="http://www.R-exams.org/intro/dynamic/">R/exams format</a>. The pool was stored in a MySQL data base
including LaTeX text for the questions, answer alternatives, images for some exercises (in EPS format)
and some additional meta-information regarding the topic category and the difficulty. Due to
the standardized format of the question pool - and the kind support by Achim Zeileis and Christiane Ernst -
it was possible to extract all questions, embed them into the same template for R/LaTeX questions (.Rnw),
and convert all EPS figures to both SVG and PDF format.
A typical example is shown below (in a screen shot from <a href="https://www.openolat.com/">OpenOLAT</a>,
the learning management system at UIBK).</p>

<p><a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//grundwasser-1-068.png"><img src="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//grundwasser-1-068.png" alt="grundwasser-1-068.png" /></a></p>

<p>The corresponding R/LaTeX exercise file is <a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//grundwasser-1-068.Rnw">grundwasser-1-068.Rnw</a> which we also converted to
R/Markdown for this blog post: <a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//grundwasser-1-068.Rmd">grundwasser-1-068.Rmd</a>. Both rely on the corresponding
image file being available in the same directory or a sub-directory. Different graphics formats are used for
different exam output formats: <a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//image68_1.svg">image68_1.svg</a>, <a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//image68_1.pdf">image68_1.pdf</a>,
<a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//image68_1.eps">image68_1.eps</a>.</p>

<p>Essentially, the exercises consist of:</p>
<ul>
  <li>some R code for including the right graphics file (SVG vs. PDF) depending on the type of output format (HTML vs. PDF),</li>
  <li>the (static) question text and answer alternatives in LaTeX format,</li>
  <li>meta-information including <code class="highlighter-rouge">exextra</code> tags for our custom topic category and difficulty level,</li>
  <li>the <code class="highlighter-rouge">exshuffle</code> tag is used for randomly subsampling the available answer alternatives.</li>
</ul>

<h2 id="new-numeric-exercises">New numeric exercises</h2>

<p>While the subsampling approach in the multiple-choice exercises provides a certain level of
randomization, I wanted to set up new numeric exercises in which all students have to calculate
the correct solution(s) based on their personalized parameters. Therefore, I set up new numeric
exercises in <code class="highlighter-rouge">cloze</code> format where several quantities have to be computed based on the same
question text. A typical example is shown below.</p>

<p><a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//num-setzung-1-steinbrenner.png"><img src="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//num-setzung-1-steinbrenner.png" alt="num-setzung-1-steinbrenner.png" /></a></p>

<p>Again, the corresponding exercise files are available as:
<a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//num-setzung-1-steinbrenner.Rnw">num-setzung-1-steinbrenner.Rnw</a>,
<a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//num-setzung-1-steinbrenner.Rmd">num-setzung-1-steinbrenner.Rmd</a>.<br />
And the graphics files are:
<a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//steinbrenner_fdmt.svg">steinbrenner_fdmt.svg</a>,
<a href="http://www.R-exams.org/assets/posts/2020-08-31-uibk_soilmechanics//steinbrenner_fdmt.pdf">steinbrenner_fdmt.pdf</a>.</p>

<p>Despite being a newcomer to both R and R/exams, setting up these exercises was quite easy
because I have been using MATLAB for a long time and could quickly grasp basic R code.
Also the <a href="http://www.R-exams.org/templates/">exercise templates</a> available online helped as did the
friendly e-mail support by Achim for resolving many of the small “details” along the way.</p>

<h2 id="exam-implementation">Exam implementation</h2>

<p>Following the R/exams tutorial on <a href="http://www.R-exams.org/tutorials/openolat_exam/">summative online exams in OpenOLAT</a>
I prepared the online exam using the <code class="highlighter-rouge">exams2openolat()</code> function. The R code I used along with a couple
of comments is provided below.</p>

<pre><code class="prettyprint ">## load package
library(&quot;exams&quot;)

## exercises for the exam
## (the actual exam had 16 exercises overall, not just 2)
exm &lt;- c(&quot;grundwasser-1-068.Rnw&quot;, &quot;num-setzung-1-steinbrenner.Rnw&quot;)

## date used as seed and file name
dat &lt;- 20200528
set.seed(dat)

rxm &lt;- exams2openolat(exm,
  edir = &quot;/path/to/exercise/folder/&quot;,
  n = 200,                ## number of random versions for each exercise
  name = paste(&quot;BmGb1-Onlinetest&quot;, dat, sep = &quot;_&quot;),
  points = 1,             ## all exercises yield 1 point
  cutvalue = 8,           ## threshold for passing the exam
  
  ## evaluation rule for multiple-choice exercises (standalone and within cloze):
  ## every wrong answer cancels a correct answer
  mchoice = list(eval = exams_eval(partial = TRUE, negative = FALSE, rule = &quot;true&quot;)),
  cloze   = list(eval = exams_eval(partial = TRUE, negative = FALSE, rule = &quot;true&quot;)),

  solutionswitch = FALSE, ## do not show full solution explanation
  maxattempts = 1,
  shufflesections = TRUE, ## sequence of exercises is shuffled randomly
  navigation = &quot;linear&quot;,  ## disable switching back and forth between exercises
  duration = 120,         ## 2 hours
  stitle = &quot;Exercise&quot;,    ## section title (for group of exercises)
  ititle = &quot;Question&quot;     ## item title (for individual exercises)
)</code></pre>

<h2 id="challenges-and-outlook">Challenges and outlook</h2>

<p>The main problem by producing randomized numeric examples was to find limits for the input so that
the output is physically reasonable. Especially for newly created exercises, it is absolutely necessary
that other colleagues act as test calculators, such that errors can be detected before students find
them in their exams. The <a href="http://www.R-exams.org/tutorials/stresstest/">stress testing</a> facilities in
R/exams can also help.</p>

<p>Since the course will continue being online in 2020/21 due to ongoing COVID-19 restrictions,
I use R/exams now also for the practice exercises which students have to calculate during the semester.
Thus, I produced about 70 new exercises, which are offered in OpenOLAT in 12 weekly online tests.
After COVID-19 I will use these examples as addition to written ones, where longer and more complex
task could be trained.</p>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/general/uibk_soilmechanics/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[Summative Online Exams with R/exams and OpenOLAT]]></title>
				<link>http://www.R-exams.org/tutorials/openolat_exam/</link>
        <pubDate>Mon, 11 May 2020 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Tutorial for conducting online exams generated by R/exams in OpenOLAT, including strategies to prevent cheating such as extended randomization, linear navigation, and a sworn declaration prior to the exam.</p>
    
    
    <p><img alt="Summative Online Exams with R/exams and OpenOLAT" src="http://www.R-exams.org/images/openolat_exam.title.png" /></p>
    
    <h2 id="overview">Overview</h2>

<p>The development version of the <a href="http://www.R-exams.org">R/exams</a> package has recently been extended to support a few more strategies for helping to prevent cheating in summative online exams conducted remotely in the learning management system <a href="https://www.openolat.com/?lang=en">OpenOLAT</a>. Namely, the questions in an exam can now be presented in random order while employing a “linear” navigation, i.e., disallowing to switch back and forth between the questions. While this is certainly also a bit of a nuisance for “honest” and well-prepared students who are used to starting an exam with those exercises they feel most comfortable with, it should be much more of a hurdle for students trying to cheat. In this scenario only 1 in n students on average is working on a given (type of) exercise when there are n questions (or rather sections of question pools).</p>

<p>Admittedly, this is still a rather weak protection against cheating compared to state-of-the-art online proctoring methods, e.g., by means of video conferencing tools. However, with several hundred participants per exam, we felt that we would (a) exclude too many students without a suitable webcam and broadband internet connection, and (b) the risk of unexpected short-term problems with the video conferencing software for individual students would be too high. Therefore, we have decided to rely only on the following strategies:</p>

<ol>
  <li>Students have to fill in a sworn declaration stating that they are doing the exam alone with only the tools allowed. This is not only important for legal reasons but even more so for priming the students to be honest right before the exam.</li>
  <li>In each section of exercises, there is a sufficient amount of random variation employing the “usual” randomization provided by R/exams.</li>
  <li>Additionally, the individual order of exercises is fixed to a particular random sequence by OpenOLAT.</li>
</ol>

<p>The results from semi-summative mid-term exams suggest that the strategies work reasonably well albeit leading to slightly better results compared to previous semesters (suggesting that cheating might be more prevalent than for classical in-class written exams). Nevertheless, we felt that we would stick to these strategies for the summative final exams later this month - and not employ more severe strategies such as video conferencing or simply increasing the workload or making exercises more difficult.</p>

<p>Note that Strategy 3 requires at least R/exams version 2.4-0 which is the development version on R-Forge at the time of writing. Thus, if you want to follow the steps below, please install this version before:</p>

<pre><code class="language-{r}">install.packages("exams", repos = "http://R-Forge.R-project.org")
</code></pre>

<h2 id="video-tutorial">Video tutorial</h2>

<p>A step-by-step video tutorial is available on YouTube at <a href="https://www.youtube.com/watch?v=hRE9SGA1F7U">https://www.youtube.com/watch?v=hRE9SGA1F7U</a>. This not only shows how to generate the learning resources using the strategies outlined above, it also goes through the entire OpenOLAT import and configuration. Specifically, this includes visibility rules and time limits for the different components of the exam.</p>

<p><a href="https://www.youtube.com/watch?v=hRE9SGA1F7U"><img src="http://www.R-exams.org/assets/posts/2020-05-12-openolat_exam/youtube.png" alt="OpenOLAT import and configuration" /></a></p>

<h2 id="sworn-declaration">Sworn declaration</h2>

<p>Both for legal reasons and for priming the students to be honest, they have to sign a sworn declaration stating that they do the exam alone using only allowed tools. Technically, this is implemented by an online test with one single-choice item where they can only say “Yes”. Only when signing the declaration in this way, students can see the actual online exam.</p>

<p>As the declaration is also just an online test, the corresponding learning resource for OpenOLAT can be easily generated with R/exams’ <code class="highlighter-rouge">exams2openolat()</code> function. The “exercise” file with the text employed at <a href="https://www.uibk.ac.at/">Universität Innsbruck</a> is available both in R/Markdown and R/LaTeX format and both in English <a href="http://www.R-exams.org/assets/posts/2020-05-12-openolat_exam/declaration.Rmd">[Rmd]</a> <a href="http://www.R-exams.org/assets/posts/2020-05-12-openolat_exam/declaration.Rnw">[Rnw]</a> and in German <a href="http://www.R-exams.org/assets/posts/2020-05-12-openolat_exam/eidesstatt.Rmd">[Rmd]</a> <a href="http://www.R-exams.org/assets/posts/2020-05-12-openolat_exam/eidesstatt.Rnw">[Rnw]</a>.</p>

<p>The ZIP archive containing the learning resource in QTI 2.1 XML format (Question &amp; Test Interoperability standard) for import into OpenOLAT can be generated with:</p>

<pre><code class="language-{r}">library("exams")
exams2openolat("declaration.Rmd", n = 1, name = "R-exams-declaration",
  points = 1, maxattempts = 0, cutvalue = 1, solutionswitch = FALSE,
  schoice = list(enumerate = FALSE),
  stitle = "Sworn declaration", ititle = "Declaration form",
  adescription = "", sdescription = "")
</code></pre>

<p>There is only <code class="highlighter-rouge">n = 1</code> version of the declaration because it is not random and it can be passed (<code class="highlighter-rouge">cutvalue</code>) when correctly signing the only exercise (<code class="highlighter-rouge">points</code>). Moreover, the code sets a couple above of titles, descriptions, and styles.</p>

<h2 id="randomized-exam">Randomized exam</h2>

<p>First, we can leverage the usual R/exams toolbox to create an exam with four exercises where each exercise actually comes from a pool of different exercise templates, and each individual exercise is the result of some random shuffling, sampling, etc. To make this demo exam easily reproducible we only employ exercises that are readily available as part of the package. Hence, the resulting exam can illustrate the basic idea but clearly the exercises would be too different (both regarding form and content) for an actual exam.</p>

<pre><code class="language-{r}">exm &lt;- list(
  "Geography"   = c("capitals.Rmd", "swisscapital.Rmd", "switzerland.Rmd"),
  "Graphics"    = c("boxplots.Rmd", "scatterplot.Rmd"),
  "Inference"   = c("ttest.Rmd", "anova.Rmd"),
  "Derivatives" = c("deriv2.Rmd", "hessian.Rmd")
)
</code></pre>

<p>Thus, the first exercise would be a randomly selected exercise from the three templates in geography (<a href="http://www.R-exams.org/templates/capitals/">capitals</a>, <a href="http://www.R-exams.org/templates/swisscapital/">swisscapital</a>, <a href="http://www.R-exams.org/templates/switzerland/">switzerland</a>). Similarly, the subsequent topics are graphics (<a href="http://www.R-exams.org/templates/boxplots/">boxplots</a>, <a href="http://www.R-exams.org/templates/scatterplot/">scatterplot</a>), inference (<a href="http://www.R-exams.org/templates/ttest/">ttest</a>, <a href="http://www.R-exams.org/templates/anova/">anova</a>), and derivatives (<a href="http://www.R-exams.org/templates/deriv2/">deriv2</a>, <a href="http://www.R-exams.org/templates/hessian/">hessian</a>) with some random variation within each topic/section.</p>

<p>Then, we can draw <code class="highlighter-rouge">n = 50</code> random exams from this specification (which we would usually do if we had around 50 participants in the exam), specifying several further options:</p>

<pre><code class="language-{r}">set.seed(2020-05-11)
exams2openolat(exm, n = 50, name = "R-exams-OpenOLAT",
  points = 1, maxattempts = 0, cutvalue = 2, solutionswitch = FALSE,
  duration = 60, shufflesections = TRUE, navigation = "linear",
  stitle = names(exm), ititle = "Question",
  adescription = "", sdescription = "")
</code></pre>

<p>Specifically, we fix the maximum <code class="highlighter-rouge">duration</code> to 60 minutes, tell OpenOLAT to shuffle the order of the four sections/topics in the exam (<code class="highlighter-rouge">shufflesections</code>) and to fix the <code class="highlighter-rouge">navigation</code> to be linear. In order to help students to see the topics of the exercises that are still to come (without giving away too much detail) we label the section titles with the four topics from above.</p>

<p>What the resulting online exam looks like and how it can be configured further within OpenOLAT is shown in detail in the video tutorial on YouTube already mentioned above. More information regarding R/exams for <a href="http://www.R-exams.org/tutorials/elearning/">e-learning with OpenOLAT (and Moodle)</a> is provided in another tutorial.</p>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/tutorials/openolat_exam/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[New R/exams Version: TinyTeX, Fixing Parameters and Random Seeds, and More]]></title>
				<link>http://www.R-exams.org/general/cran_release_236/</link>
        <pubDate>Thu, 09 Apr 2020 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>New minor releases of the R/exams package to CRAN with many enhancements including TinyTeX support and extended control over the random variation in dynamic exercises through fixed parameters or custom random seeds.</p>
    
    
    <p><img alt="New R/exams Version: TinyTeX, Fixing Parameters and Random Seeds, and More" src="http://www.R-exams.org/images/cran236.title.png" /></p>
    
    <p>New versions of the <a href="http://www.R-exams.org/">R/exams</a> package (2.3-5 and 2.3-6) have been released on the Comprehensive R Archive Network at <a href="https://CRAN.R-project.org/package=exams">https://CRAN.R-project.org/package=exams</a>. The second update was necessitated by more thorough checks for <code class="highlighter-rouge">pandoc</code> availability on Solaris and OS X. In the next days binary Windows and OS X packages should also become available. The development version of the package is now version 2.4-0 on R-Forge at <a href="http://R-Forge.R-project.org/R/?group_id=1337">http://R-Forge.R-project.org/R/?group_id=1337</a>.</p>

<h2 id="tinytex-support">TinyTeX support</h2>

<p>R/exams users that want to produce PDF output, e.g., via <code class="highlighter-rouge">exams2pdf()</code> or <code class="highlighter-rouge">exams2nops()</code>, need to install LaTeX for rendering the exercises. Especially for users that do not write LaTeX documents themselves (but only Markdown instead) it is now much easier to install a lightweight LaTeX distribution thanks to the wonderful <a href="https://yihui.org/tinytex/">TinyTeX</a> package by Yihui Xie. All that needs to be done is:</p>

<pre><code class="language-{r}">install.packages("tinytex")
tinytex::install_tinytex()
</code></pre>

<p>The latter installs the TinyTeX distribution and the former makes the R interface available. After that it is recommended to run <code class="highlighter-rouge">exams2nops()</code> once:</p>

<pre><code class="language-{r}">exams2nops(c("swisscapital.Rmd", "deriv2.Rmd"))
</code></pre>

<p>This takes a while because some additional LaTeX packages will be downloaded and installed automatically. Running the same command a second time will be much faster because then all required LaTeX packages will already be available.</p>

<p>If the <code class="highlighter-rouge">tinytex</code> R package is installed, the default is to compile PDF exams with <code class="highlighter-rouge">tinytex::latexmk()</code>; otherwise <code class="highlighter-rouge">tools::texi2dvi()</code> is used (which does not offer automatic LaTeX package installation). If the latter should be used even when <code class="highlighter-rouge">requireNamespace("tinytex")</code> is true, then <code class="highlighter-rouge">options(exams_tex = "tools")</code> can be set (instead of <code class="highlighter-rouge">exams_tex = "tinytex"</code>)</p>

<h2 id="fixing-parameters-and-seeds">Fixing parameters and seeds</h2>

<p>One frequent feature request for R/exams was to reduce the amount of random variation in exams even if the underlying exercise templates offer more flexibility. Application cases are where teachers want to control each randomly selected exercise in a quiz or exam manually. To address this, two mechanisms are provided now:</p>

<ol>
  <li>Some of the parameters that would usually be sampled randomly can be temporarily fixed (on the fly) by using the new function <code class="highlighter-rouge">expar()</code>.</li>
  <li>Several <code class="highlighter-rouge">exams2xyz()</code> interfaces gained a <code class="highlighter-rouge">seed</code> argument with which dedicated random seeds can be selected per exercise.</li>
</ol>

<h3 id="fixing-parameters">Fixing parameters</h3>

<p>The first feature is of interest, for example, if computing the solution becomes harder when a certain parameter increases or takes a particular value. The new function <code class="highlighter-rouge">expar()</code> allows to fix such parameters on the fly if they are defined in the first code chunk of the exercise. For example</p>

<pre><code class="language-{r}">expar("deriv.Rmd", a = 1, c = 0)
</code></pre>

<p>generates a temporary file where the parameters <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">c</code> of the <a href="http://www.R-exams.org/templates/deriv/">deriv</a> exercise are fixed to the values <code class="highlighter-rouge">1</code> and <code class="highlighter-rouge">0</code>, respectively. The result can then be processed by all <code class="highlighter-rouge">exams2xyz()</code> interfaces “as usual”, e.g.:</p>

<pre><code class="language-{r}">exams2html(c(
  expar("deriv.Rmd", a = 1, c = 0),
  "deriv.Rmd"
))
</code></pre>

<p>A potential caveat is that <code class="highlighter-rouge">expar()</code> either needs the exercise file to be available locally in the current working directoy or with the full path. It does not work with the <code class="highlighter-rouge">edir</code> argument of subsequent <code class="highlighter-rouge">exams2xyz()</code> calls.</p>

<h3 id="fixing-seeds">Fixing seeds</h3>

<p>Some <code class="highlighter-rouge">exams2xyz()</code> interfaces now support setting <code class="highlighter-rouge">seed</code>s for each individual exercise in an exam to enable custom exercise selection (e.g., when only putting together a single exam). Currently, this is only supported in <code class="highlighter-rouge">xexams()</code>, <code class="highlighter-rouge">exams2pdf()</code>, <code class="highlighter-rouge">exams2html()</code>, <code class="highlighter-rouge">exams2nops()</code>, and <code class="highlighter-rouge">exams2blackboard()</code>. Other interfaces will follow, though.</p>

<p>Thus, using this feature, teachers can try a few random seeds for a given exercise until they get a variant they like. Then they do the same with the next exercise etc. At the end all exercises and all seeds are collected and passed on in this form: <code class="highlighter-rouge">exams2xyz(c(exercise1, exercise2, ...), seed = c(seed1, seed2, ...))</code>.</p>

<p>Moreover, in the <code class="highlighter-rouge">exams2xyz()</code> interfaces that support setting seeds, the <code class="highlighter-rouge">file</code> argument can now also be a matrix (rather than a vector or list). This enables customization of the exact selection of exercises in each exam. In the example below we use exactly the same random replication of the <a href="http://www.R-exams.org/templates/deriv/">deriv</a> and <a href="http://www.R-exams.org/templates/tstat/">tstat</a> exercises, respectively, but permute their order. The final exercise is <a href="http://www.R-exams.org/templates/ttest/">ttest</a> in both cases but with different seeds.</p>

<pre><code class="language-{r}">f &lt;- rbind(
  c("deriv.Rmd", "tstat.Rmd", "ttest.Rmd"),
  c("tstat.Rmd", "deriv.Rmd", "ttest.Rmd")
)
s &lt;- rbind(
  c(123, 321, 111),
  c(321, 123, 222)
)
exams2html(f, seed = s)
browseURL(Sys.glob("plain*.html")[1])
browseURL(Sys.glob("plain*.html")[2])
</code></pre>

<h2 id="written-exams-nops">Written exams (NOPS)</h2>

<p>The tools for written <a href="http://www.R-exams.org/tutorials/exams2nops">NOPS exams</a> that can be automatically scanned and evaluated have been enhanced.</p>

<ul>
  <li>Several users were kind enough to provide new <a href="http://www.R-exams.org/tutorials/nops_language/">language support</a>: Korean (<code class="highlighter-rouge">ko</code>, 정세원), Japanese (<code class="highlighter-rouge">ja</code>, Kohei Watanabe), Norwegian (Bokmål, <code class="highlighter-rouge">no</code>, Tormod Bøe), Slovenian (<code class="highlighter-rouge">sl</code>, Matjaž Jeran), Vietnamese (<code class="highlighter-rouge">vi</code>, Trần Thị Hoàng Hà).</li>
  <li>Improvements in <code class="highlighter-rouge">nops_eval()</code>: Show exam ID in HTML report and round points to four digits. The <code class="highlighter-rouge">language=</code> file paths do not have to be absolute anymore. For <code class="highlighter-rouge">interactive</code> checking/fixing of registration IDs the width of scanned subimage is now adapted according to the <code class="highlighter-rouge">reglength</code>.</li>
  <li>The actual writing of <code class="highlighter-rouge">nops_eval()</code> results has been modularized (with contributions from Kenji Sato). Different <code class="highlighter-rouge">nops_eval_write_&lt;flavor&gt;</code> functions can be plugged in. At the moment there is only the default writer (optimized for OpenOLAT) but further flavors are planned (including a standalone workflow and one for Moodle).</li>
  <li>Function <code class="highlighter-rouge">nops_language()</code> is now exported as part of the user interface (only internal previously). Based on a language specification in a DCF file this sets up a list with language texts (possibly converted to HTML).</li>
</ul>

<h2 id="improvements-and-bug-fixes">Improvements and bug fixes</h2>

<ul>
  <li>New exercise <a href="http://www.R-exams.org/templates/capitals/">capitals</a> that illustrates how a certain number of true/false items can be chosen randomly from a longer list. The exercise can also be switched from <code class="highlighter-rouge">mchoice</code> to <code class="highlighter-rouge">schoice</code> without any further necessary modifications. Finally, the exercise illustrates that UTF-8 encoding is needed for the Rmd version while in the Rnw version the few special characters can be coded in ASCII using LaTeX commands.</li>
  <li>All LaTeX templates that use <code class="highlighter-rouge">\fontfamily{phv}</code> now also gained a <code class="highlighter-rouge">\usepackage{helvet}</code> to ensure that the corresponding LaTeX packages are installed. When using <code class="highlighter-rouge">tinytex</code> (see above) the corresponding LaTeX packages will be installed if not yet available upon first usage.</li>
  <li>In R/Markdown exercises the question/solution answerlist can now use not only <code class="highlighter-rouge">*</code> but also <code class="highlighter-rouge">-</code> as the symbol for bullet points (suggested by Ben Kasel).</li>
  <li>Fixed a bug in <code class="highlighter-rouge">exams2pdf()</code> where the case of multiple duplicated supplement names was not handled correctly (reported by TwelveFifths on StackOverflow).</li>
  <li>Improved <code class="highlighter-rouge">xexams()</code> so that full file paths to exercise files also work on Windows.</li>
  <li><code class="highlighter-rouge">read_metainfo()</code> now assures a non-<code class="highlighter-rouge">NULL</code> <code class="highlighter-rouge">exname</code>. The default is to use “R/exams exercise”.</li>
  <li>Fixed a bug in <code class="highlighter-rouge">extract_items()</code> which incorrectly dropped the last element in an answerlist if it was completely empty (even without a trailing space). This was a problem for cloze exercises with ##ANSWER## patterns, leading to a questionlist that was too short (reported by Julia Guggenberger).</li>
  <li>Various fixes and improvements in <code class="highlighter-rouge">exams2qti21()</code> (and thus inherited by <code class="highlighter-rouge">exams2openolat()</code>): Support of cloze and essay type exercises has been much improved, fixing bugs in the XML and meta-information handling. String exercises work again. The internally-generated XML labels are more robust now avoiding spaces and leading integers.</li>
  <li>The package depends on R &gt;= 3.4.0 now, which enables plugging a custom svg device into <code class="highlighter-rouge">Sweave()</code>. In previous versions of the package a workaround was included that works for R &lt; 3.4.0 (but required writing into the global environment which is avoided now).</li>
</ul>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/general/cran_release_236/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[capitals: Knowledge Quiz Question about Capitals around the World]]></title>
				<link>http://www.R-exams.org/templates/capitals/</link>
        <pubDate>Wed, 08 Apr 2020 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Exercise template for a multiple-choice knowledge quiz question with flexible shuffling of the alternatives.</p>
    
    
    <div class="row t1 b1">
  <div class="medium-4 columns"><b>Name:</b></div>
  <div class="medium-8 columns"><code class="highlighter-rouge">capitals</code></div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Type:</b></div>
  <div class="medium-8 columns"><a href="http://www.R-exams.org/tag/mchoice/"><code class="highlighter-rouge">mchoice</code></a></div>
</div>
<div class="row t1 b1">   <div class="medium-4 columns"><b>Related:</b></div>   <div class="medium-8 columns"><a href="http://www.R-exams.org/templates/swisscapital/"><code class="highlighter-rouge">swisscapital</code></a></div> </div>

<div class="row t20 b1">
  <div class="medium-4 columns"><b>Description:</b></div>
  <div class="medium-8 columns">Knowledge quiz question about capitals (vs. large cities) in countries around the world with 5 correct and 6 false alternatives which are shuffled randomly in each version of the exercise. Due to the large number of both correct and false alternatives, the same template could also easily be turned into a single-choice (schoice) exercise. The Rmd exercise is in UTF-8 encoding while the Rnw exercise avoids non-ASCII characters by using LaTeX commands.</div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Solution feedback:</b></div>
  <div class="medium-8 columns">Yes</div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Randomization:</b></div>
  <div class="medium-8 columns">Shuffling (5 out of 11 alternatives)</div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Mathematical notation:</b></div>
  <div class="medium-8 columns">No</div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Verbatim R input/output:</b></div>
  <div class="medium-8 columns">No</div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Images:</b></div>
  <div class="medium-8 columns">No</div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Other supplements:</b></div>
  <div class="medium-8 columns">No</div>
</div>

<div class="row t20 b1">
  <div class="medium-4 columns"><b>Template:</b></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals.Rnw">capitals.Rnw</a></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals.Rmd">capitals.Rmd</a></div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>Raw:</b> (1 random version)</div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals.tex">capitals.tex</a></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals.md">capitals.md</a></div>
</div>
<div class="row t1 b1">
  <div class="medium-4 columns"><b>PDF:</b></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rnw.pdf"><img src="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rnw-pdf.png" alt="capitals-Rnw-pdf" /></a></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rmd.pdf"><img src="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rmd-pdf.png" alt="capitals-Rmd-pdf" /></a></div>
</div>
<div class="row t1 b20">
  <div class="medium-4 columns"><b>HTML:</b></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rnw.html"><img src="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rnw-html.png" alt="capitals-Rnw-html" /></a></div>
  <div class="medium-4 columns"><a href="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rmd.html"><img src="http://www.R-exams.org/assets/posts/2020-04-08-capitals//capitals-Rmd-html.png" alt="capitals-Rmd-html" /></a></div>
</div>

<p><strong>Demo code:</strong></p>

<pre><code class="prettyprint ">library(&quot;exams&quot;)

set.seed(403)
exams2html(&quot;capitals.Rnw&quot;)
set.seed(403)
exams2pdf(&quot;capitals.Rnw&quot;)

set.seed(403)
exams2html(&quot;capitals.Rmd&quot;)
set.seed(403)
exams2pdf(&quot;capitals.Rmd&quot;)</code></pre>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/templates/capitals/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[Why R? Webinar on R/exams for E-Learning Quizzes and Beyond]]></title>
				<link>http://www.R-exams.org/general/whyr2020/</link>
        <pubDate>Sat, 04 Apr 2020 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Webinar hosted by Why R? Foundation: Slides, video, and e-learning resources.</p>
    
    
    <p><img alt="Why R? Webinar on R/exams for E-Learning Quizzes and Beyond" src="http://www.R-exams.org/images/whyr2020.title.png" /></p>
    
    <h3 id="why-r-webinar-001">Why R? Webinar 001</h3>

<p><a href="http://www.R-exams.org/">R/exams</a> was presented in the first <a href="http://whyr.pl/webinars/">Why R? webinar</a> by <a href="https://eeecon.uibk.ac.at/~zeileis/">Achim Zeileis</a>. <a href="http://r-addict.com/">Marcin Kosiński</a> was the host and did a great job setting up the Zoom session that was streamed live on YouTube where more than 100 participants joined the live chat.</p>

<p>Compared to previous presentations on R/exams, the webinar gave some emphasis to e-learning. Also, the presentation shared some experiences from Universität Innsbruck on how R/exams can assist the transition to distance learning due to the corona crisis in spring 2020.</p>

<p>This blog post provides various resources for those who did not attend the webinar or who want to explore the materials in some more detail. Most importantly the presentation slides are available in PDF format (under CC-BY):</p>

<p><a href="http://www.R-exams.org/assets/posts/2020-04-04-whyr2020/slides.pdf"><img src="http://www.R-exams.org/assets/posts/2020-04-04-whyr2020/slides.png" alt="slides.pdf" /></a></p>

<h3 id="video">Video</h3>

<p>Thanks to the great job done by the Why R? organizers, the recording of the live stream is available on YouTube:</p>

<p><a href="https://www.youtube.com/watch?v=PnyCR7q4P4Q"><img src="http://www.R-exams.org/assets/posts/2020-04-04-whyr2020/youtube.png" alt="YouTube" /></a></p>

<h3 id="e-learning">E-Learning</h3>

<p>To illustrate the e-learning capabilities supported by R/exams, the presentation went through an online quiz generated by R/exams and imported into <a href="https://www.OpenOLAT.com/">OpenOLAT</a>, an open-source learning management system (available under the Apache License). The online test is made available again here for anonymous guest access. <em>(Note however, that the system only has one guest user so that when you start the test there may already be some test results from a previous guest session. In that case you can finish the test and also start it again.)</em></p>

<p><a href="https://lms.uibk.ac.at/url/RepositoryEntry/2823520256/CourseNode/97603810083315?guest=true"><img src="http://www.R-exams.org/assets/posts/2020-04-04-whyr2020/openolat.png" alt="OpenOLAT" /></a></p>

<p>A detailed description of the generation and import of this online quiz is available in the recent <a href="http://www.R-exams.org/tutorials/elearning/">R/exams e-learning tutorial</a>.</p>

<h3 id="getting-started">Getting started</h3>

<p>Further resources for getting started with R/exams are available in these tutorials:</p>

<ul>
  <li><a href="http://www.R-exams.org/tutorials/installation/">Installing R/exams</a></li>
  <li><a href="http://www.R-exams.org/tutorials/first_steps/">First Steps</a></li>
  <li><a href="http://www.R-exams.org/tutorials/stresstest/">Stress Testing Dynamic R/exams Exercises</a></li>
</ul>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/general/whyr2020/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[E-Learning Quizzes with R/exams for Moodle and OpenOLAT]]></title>
				<link>http://www.R-exams.org/tutorials/elearning/</link>
        <pubDate>Sat, 28 Mar 2020 00:00:00 +0100</pubDate>
        
        <description><![CDATA[
    
    <p>Step-by-step tutorials for generating, importing, and customizing online tests and quizzes using exams2moodle() and exams2openolat() in R/exams.</p>
    
    
    <p><img alt="E-Learning Quizzes with R/exams for Moodle and OpenOLAT" src="http://www.R-exams.org/images/elearning.title.png" /></p>
    
    <h2 id="motivation">Motivation</h2>

<div class="row t20 b20">
  <div class="small-8 medium-9 columns">

<p>E-learning resources such as online tests and quizzes or more formal e-exams are very useful in a variety of settings: formative vs. summative assessments; in-class vs. distance learning; synchronous vs. asynchronous; small vs. large groups of students. Some typical examples are outlined here.</p>

  </div>
  <div class="small-4 medium-3 columns">
    <img src="http://www.R-exams.org/images/elearning-goal.svg" alt="Motivation" />
  </div>
</div>

<ul>
  <li>Short tests/quizzes conducted in-class (synchronously) as a quick assessment of content the students had to prepare before class. In a flipped classroom approach the test/quiz might also be conducted after a collaboration phase in class.</li>
  <li>Asynchronous online tests that students can do in their own time (e.g., over several days) to obtain (incentivized) feedback regarding their learning progress. Such tests might follow any form of content delivery, be it classical lectures or video screencasts or some other approach.</li>
  <li>Synchronous e-exams conducted in-class or remotely (e.g., coupled with a safe exam browser) as a summative assessment at the end of a course.</li>
</ul>

<p><a href="http://www.R-exams.org">R/exams</a> can support these scenarios by creating a sufficiently large number of randomized versions of <a href="http://www.R-exams.org/intro/dynamic/">dynamic exercises</a> that can subsequently be imported into a learning management system (LMS). The actual quiz/test/exam is then conducted in the LMS only, i.e., without the need to have R running in the background, because all exercises and corresponding solutions have been pre-computed and stored in the LMS. Popular LMS include the open-source systems <a href="https://moodle.org/">Moodle</a>, <a href="https://www.instructure.com/canvas/">Canvas</a>, <a href="https://www.openolat.com/?lang=en">OpenOLAT</a>, or <a href="https://www.ilias.de/en/">Ilias</a> or the commerical <a href="https://www.blackboard.com/">Blackboard</a> system. R/exams provides suitable interfaces for all of these but the capabilities differ somewhat between the LMS. In the following we focus on Moodle and OpenOLAT, both of which provide very flexible and powerful assessment modules.</p>

<h2 id="creation-in-rexams">Creation in R/exams</h2>

<div class="row t20 b20">
  <div class="small-8 medium-9 columns">

<p>Just like for other R/exams interfaces the starting point is putting together a vector or list of <a href="http://www.R-exams.org/intro/dynamic/">(potentially) dynamic exercises</a> in R. From these exercises - in either R/Markdown or R/LaTeX format - a number of random replications can be drawn using either <code class="highlighter-rouge">exams2moodle()</code> or <code class="highlighter-rouge">exams2openolat()</code>, respectively. Both interfaces support all R/exams exercise types: single-choice (<code class="highlighter-rouge">schoice</code>), multiple-choice (<code class="highlighter-rouge">mchoice</code>), numeric (<code class="highlighter-rouge">num</code>), string (<code class="highlighter-rouge">string</code>), or combinations of these (<code class="highlighter-rouge">cloze</code>). See the <a href="http://www.R-exams.org/tutorials/first_steps/">First Steps</a> tutorial for more details.</p>

  </div>
  <div class="small-4 medium-3 columns">
    <img src="http://www.R-exams.org/images/elearning-create.svg" alt="Creation" />
  </div>
</div>

<p>Here, we use a collection of exercise templates that are all shipped within the R/exams package and that cover a broad range of different question types as well as different randomyly-generated content (shuffling, random parameters, R output, graphics, simulated data sets).</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Exercise template</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Task</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/swisscapital/">swisscapital</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">Knowledge quiz question with basic shuffling</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/deriv/">deriv</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">Computing the derivative of a function with randomized parameters</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/ttest/">ttest</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">mchoice</code></td>
      <td style="text-align: left">Interpretation of R output from <code class="highlighter-rouge">t.test()</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/boxplots/">boxplots</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">mchoice</code></td>
      <td style="text-align: left">Interpretation of parallel boxplots</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/function/">function</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: left">Knowledge quiz question where the answer is the name of an R function</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/lm/">lm</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">cloze</code></td>
      <td style="text-align: left">Conducting a simple linear regression based on a randomly-generated CSV file</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="http://www.R-exams.org/templates/fourfold2/">fourfold2</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">cloze</code></td>
      <td style="text-align: left">Completing a fourfold table based on verbal description with randomized parameters</td>
    </tr>
  </tbody>
</table>

<p>First, we load the <code class="highlighter-rouge">exams</code> package and define a vector with all exercise <code class="highlighter-rouge">.Rmd</code> file names.</p>

<pre><code class="prettyprint ">library(&quot;exams&quot;)
elearn_exam &lt;- c(&quot;swisscapital.Rmd&quot;, &quot;deriv.Rmd&quot;, &quot;ttest.Rmd&quot;,
  &quot;boxplots.Rmd&quot;, &quot;function.Rmd&quot;, &quot;lm.Rmd&quot;, &quot;fourfold2.Rmd&quot;)</code></pre>

<p>Alternatively, the corresponding <code class="highlighter-rouge">.Rnw</code> files could be used, yielding virtually identical output.</p>

<p>Second, we generate a Moodle XML file with 3 random replications of each of the exercises.</p>

<pre><code class="prettyprint ">set.seed(2020-03-15)
exams2moodle(elearn_exam, n = 3, name = &quot;R-exams&quot;)</code></pre>

<p>This yields the file <a href="http://www.R-exams.org/assets/posts/2020-03-28-elearning//R-exams.xml">R-exams.xml</a> that can be imported into Moodle.</p>

<p>Analogously, a ZIP archive containing QTI 2.1 XML files (Question &amp; Test Interoperability standard) for import into OpenOLAT.</p>

<pre><code class="prettyprint ">set.seed(2020-03-15)
rxm &lt;- exams2openolat(elearn_exam, n = 3, name = &quot;R-exams&quot;)</code></pre>

<p>The resulting output file is <a href="http://www.R-exams.org/assets/posts/2020-03-28-elearning//R-exams.zip">R-exams.zip</a>.</p>

<p>Moreover, to show that the object returned within R can also be useful we have assigned the output of <code class="highlighter-rouge">exams2openolat()</code> to an object <code class="highlighter-rouge">rxm</code>. This is not necessary but inspecting this object might be helpful when developing and testing new exercises. In particular, we can easily extract the meta-information regarding the correct answers in all randomly generated exercises.</p>

<pre><code class="prettyprint ">exams_metainfo(rxm)</code></pre>

<pre><code>## 
## exam1
##     1. Swiss Capital: 4
##     2. derivative exp: 38.72 (38.71--38.73)
##     3. 2-sample t-test: 1, 2, 5
##     4. Parallel boxplots: 2, 4, 5
##     5. R functions: lm
##     6. Linear regression: FALSE, FALSE, TRUE | -0.861
##     7. fourfold: 4.44 | 19.74 | 1.56 | 74.26 | 24.18 | 75.82 | 6 | 94 | 100
## 
## exam2
##     1. Swiss Capital: 4
##     2. derivative exp: 2 (1.99--2.01)
##     3. 2-sample t-test: 3
##     4. Parallel boxplots: 2, 3, 4
##     5. R functions: vcov
##     6. Linear regression: FALSE, TRUE, FALSE | 0.531
##     7. fourfold: 5.76 | 23.92 | 2.24 | 68.08 | 29.68 | 70.32 | 8 | 92 | 100
## 
## exam3
##     1. Swiss Capital: 2
##     2. derivative exp: 2.05 (2.04--2.06)
##     3. 2-sample t-test: 2, 3
##     4. Parallel boxplots: 2, 4, 5
##     5. R functions: glm
##     6. Linear regression: TRUE, FALSE, FALSE | 0.024
##     7. fourfold: 6.5 | 22.5 | 3.5 | 67.5 | 29 | 71 | 10 | 90 | 100
</code></pre>

<h2 id="import-into-moodle-and-openolat">Import into Moodle and OpenOLAT</h2>

<div class="row t20 b20">
  <div class="small-8 medium-9 columns">

<p>Finally, the output files generated above can be imported into the Moodle and OpenOLAT learning management system, respectively. In Moodle the random exercises are imported into a question bank based on which a quiz with randomly-selected questions can be constructed. In OpenOLAT the import directly yields a test learning resource that can then be embedded in a course.</p>

  </div>
  <div class="small-4 medium-3 columns">
    <img src="http://www.R-exams.org/images/elearning-import.svg" alt="Import" />
  </div>
</div>

<h3 id="moodle-import">Moodle import</h3>

<p>A step-by-step video guide to importing and customizing the quiz in Moodle is available on YouTube at <a href="https://www.youtube.com/watch?v=5K9hrE3YkPs">https://www.youtube.com/watch?v=5K9hrE3YkPs</a>.</p>

<p><a href="https://www.youtube.com/watch?v=5K9hrE3YkPs"><img src="http://www.R-exams.org/assets/posts/2020-03-28-elearning/moodle.png" alt="Moodle import" /></a></p>

<h3 id="openolat-import">OpenOLAT import</h3>

<p>A step-by-step video guide to importing and customizing the test in OpenOLAT is available on YouTube at <a href="https://www.youtube.com/watch?v=1ZhdmoDtUSA">https://www.youtube.com/watch?v=1ZhdmoDtUSA</a>.</p>

<p><a href="https://www.youtube.com/watch?v=1ZhdmoDtUSA"><img src="http://www.R-exams.org/assets/posts/2020-03-28-elearning/openolat.png" alt="OpenOLAT import" /></a></p>


    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/tutorials/elearning/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[Stress Testing Dynamic R/exams Exercises]]></title>
				<link>http://www.R-exams.org/tutorials/stresstest/</link>
        <pubDate>Wed, 10 Jul 2019 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Before actually using a dynamic exercise in a course it should be thoroughly tested. While certain aspects require critical reading by a human, other aspects can be automatically stress-tested in R.</p>
    
    
    <p><img alt="Stress Testing Dynamic R/exams Exercises" src="http://www.R-exams.org/images/stresstest.title.png" /></p>
    
    <h2 id="motivation">Motivation</h2>

<p>After a dynamic exercise has been developed, thorough testing is recommended before administering the exercise in a student assessment. Therefore, the <a href="http://www.R-exams.org">R/exams</a> package provides the function <code class="highlighter-rouge">stresstest_exercise()</code> to aid teachers in this process. While the teachers still have to assess themselves how sensible/intelligible/appropriate/… the exercise is, the R function can help check:</p>

<ul>
  <li>whether the data-generating process works without errors or infinite loops,</li>
  <li>how long a random draw from the exercise takes,</li>
  <li>what range the correct results fall into,</li>
  <li>whether there are patterns in the results that students could leverage for guessing the correct answer.</li>
</ul>

<p>To do so, the function takes the exercise and compiles it hundreds or thousands of times. In each of the iterations the correct solution(s) and the run times are stored in a data frame along with all variables (numeric/integer/character of length 1) created by the exercise. This data frame can then be used to examine undesirable behavior of the exercise. More specifically, for some values of the variables the solutions might become extreme in some way (e.g., very small or very large etc.) or single-choice/multiple-choice answers might not be uniformly distributed.</p>

<p>In our experience such patterns are not rare in practice and our students are very good at picking them up, leveraging them for solving the exercises in exams.</p>

<h2 id="example-calculating-binomial-probabilities">Example: Calculating binomial probabilities</h2>

<p>In order to exemplify the work flow, let’s consider a simple exercise about calculating a certain binomial probability:</p>

<table>
  <tbody>
    <tr>
      <td>According to a recent survey <code class="highlighter-rouge">100 - p</code> percent of all customers in grocery stores pay cash while the rest use their credit or cash card. You are currently waiting in the queue at the checkout of a grocery story with <code class="highlighter-rouge">n</code> customers in front of you. <br /> <br /> What is the probability (in percent) that <code class="highlighter-rouge">k</code> or more of the other customers pay with their card?</td>
    </tr>
  </tbody>
</table>

<p>In R, the correct answer for this exercise can be computed as <code class="highlighter-rouge">100 * pbinom(k - 1, size = n, prob = p/100, lower.tail = FALSE)</code> which we ask for in the exercise (rounded to two digits).</p>

<p>In the folllowing, we illustrate typical problems of parameterizing such an exercise: For an exercise with numeric answer we only need to sample the variables <code class="highlighter-rouge">p</code>, <code class="highlighter-rouge">n</code>, and <code class="highlighter-rouge">k</code>. For a single-choice version we also need a certain number of wrong answers (or “distractors”), comprised of typical errors and/or random numbers. For both types of exercises we first show a version that exhibits some undesirable properties and then proceed to an improved version of it.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">#</th>
      <th style="text-align: left">Exercise templates</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial1.Rmd">binomial1.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial1.Rnw">binomial1.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">First attempt with poor parameter ranges.</td>
    </tr>
    <tr>
      <td style="text-align: right">2</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial2.Rmd">binomial2.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial2.Rnw">binomial2.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">As in #1 but with some parameter ranges improved.</td>
    </tr>
    <tr>
      <td style="text-align: right">3</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial3.Rmd">binomial3.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial3.Rnw">binomial3.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">Single-choice version based on #2 but with too many typical wrong solutions and poor random answers.</td>
    </tr>
    <tr>
      <td style="text-align: right">4</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial4.Rmd">binomial4.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial4.Rnw">binomial4.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">As in #3 but with improved sampling of both typical errors and random solutions.</td>
    </tr>
  </tbody>
</table>

<p>If you want to replicate the illustrations below you can easily download all four exercises from within R. Here, we show how to do so for the R/Markdown (<code class="highlighter-rouge">.Rmd</code>) version of the exercise but equivalently you can also use the R\LaTeX version (<code class="highlighter-rouge">.Rnw</code>):</p>

<pre><code class="prettyprint ">for(i in paste0(extra, 1:4, &quot;.Rmd&quot;)) download.file(
  paste0(&quot;http://www.R-exams.org/assets/posts/2019-07-10-stresstest/&quot;, i), i)</code></pre>

<h2 id="numerical-exercise-first-attempt">Numerical exercise: First attempt</h2>

<p>In a first attempt we generate the parameters in the exercise as:</p>

<pre><code class="prettyprint ">## success probability in percent (= pay with card)
p &lt;- sample(0:4, size = 1)

## number of attempts (= customers in queue)
n &lt;- sample(6:9, size = 1)

## minimum number of successes (= customers who pay with card)
k &lt;- sample(2:4, 1)</code></pre>

<p>Let’s stress test this exercise:</p>

<pre><code class="prettyprint ">s1 &lt;- stresstest_exercise(&quot;binomial1.Rmd&quot;)</code></pre>

<pre><code>## 1/2/3/4/5/6/7/8/9/10/11/12/13/14/15/16/17/18/19/20/21/22/23/24/25/26/27/28/29/30/31/32/33/34/35/36/37/38/39/40/41/42/43/44/45/46/47/48/49/50/51/52/53/54/55/56/57/58/59/60/61/62/63/64/65/66/67/68/69/70/71/72/73/74/75/76/77/78/79/80/81/82/83/84/85/86/87/88/89/90/91/92/93/94/95/96/97/98/99/100
</code></pre>

<p>By default this generates 100 random draws from the exercise with seeds from 1 to 100. The seeds are also printed in the R console, seperated by slashes. Therefore, it is easy to reproduce errors that might occur when running the stress test, i.e., just <code class="highlighter-rouge">set.seed(i)</code> with <code class="highlighter-rouge">i</code> being the problematic iteration and subsequently run something like <code class="highlighter-rouge">exams2html()</code> or run the code for generating the parameters manually.</p>

<p>Here, no errors occurred but further examination shows that parameters have clearly been too extreme:</p>

<pre><code class="prettyprint ">plot(s1)</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest1-overview-1.svg" alt="plot of chunk stresstest1-overview" /></p>

<p>The left panel shows the distribution run times which shows that this was fast without any problems. However, the distribution of solutions in the right panel shows that almost all solutions are extremely small. In fact, when accessing the solutions from the object <code class="highlighter-rouge">s1</code> and summarizing them we see that a large proportion was exactly zero (due to rounding).</p>

<pre><code class="prettyprint ">summary(s1$solution)</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.0200  0.5239  0.3100  4.7800
</code></pre>

<p>You might have already noticed the source of the problems when we presented the code above: the values for <code class="highlighter-rouge">p</code> are extremely small (and even include 0) but also <code class="highlighter-rouge">k</code> is rather large. But even if we didn’t notice this in the code directly we could have detected it visually by plotting the solution against the parameter variables from the exercise:</p>

<pre><code class="prettyprint ">plot(s1, type = &quot;solution&quot;)</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest1-solution-1.svg" alt="plot of chunk stresstest1-solution" /></p>

<p><em>Remark:</em> In addition to the <code class="highlighter-rouge">solution</code> the object <code class="highlighter-rouge">s1</code> contains the <code class="highlighter-rouge">seeds</code>, the <code class="highlighter-rouge">runtime</code>, and a <code class="highlighter-rouge">data.frame</code> with all <code class="highlighter-rouge">objects</code> of length 1 that were newly created within the exercise. Sometimes it is useful to explore these in more detail manually.</p>

<pre><code class="prettyprint ">names(s1)</code></pre>

<pre><code>## [1] &quot;seeds&quot;    &quot;runtime&quot;  &quot;objects&quot;  &quot;solution&quot;
</code></pre>

<pre><code class="prettyprint ">names(s1$objects)</code></pre>

<pre><code>## [1] &quot;k&quot;   &quot;n&quot;   &quot;p&quot;   &quot;sol&quot;
</code></pre>

<h2 id="numerical-exercise-improved-version">Numerical exercise: Improved version</h2>

<p>To fix the problems detected above, we increase the range for <code class="highlighter-rouge">p</code> to be between 10 and 30 percent and reduce <code class="highlighter-rouge">k</code> to values from 1 to 3, i.e., employ the following lines in the exercise:</p>

<pre><code class="prettyprint ">p &lt;- sample(10:30, size = 1)
k &lt;- sample(1:3, 1)</code></pre>

<p>Stress testing this modified exercise yields solutions with a much better spread:</p>

<pre><code class="prettyprint ">s2 &lt;- stresstest_exercise(&quot;binomial2.Rmd&quot;)
plot(s2)</code></pre>
<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest2-overview-1.svg" alt="plot of chunk stresstest2-overview" /></p>

<p>Closer inspection shows that solutions can still become rather small:</p>

<pre><code class="prettyprint ">summary(s2$solution)</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    3.31   20.31   50.08   47.41   72.52   94.80
</code></pre>

<p>For fine tuning we might be interested in finding out when the threshold of 5 percent probability is exceeded, depending on the variables <code class="highlighter-rouge">p</code> and <code class="highlighter-rouge">k</code>. This can be done graphically via:</p>

<pre><code class="prettyprint ">plot(s2, type = &quot;solution&quot;, variables = c(&quot;p&quot;, &quot;k&quot;), threshold = 5)</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest2-solution-1.svg" alt="plot of chunk stresstest2-solution" /></p>

<p>So maybe we could increase the minimum for <code class="highlighter-rouge">p</code> from 10 to 15 percent. In the following single-choice version of the exercise we will do so in order leave more room for incorrect answers below the correct solution.</p>

<h2 id="single-choice-exercise-first-attempt">Single-choice exercise: First attempt</h2>

<p>Building on the numeric example above we now move on to set up a corresponding single-choice exercise. This is supported by more
learning management systems, e.g., for live voting or for written exams that are scanned automatically. Thus, in addition to the
correct solution we simply need to set up a certain number of distractors. Our idea is to use two distractors that are based on
typical errors students may make plus two random distractors.</p>

<pre><code class="prettyprint ">ok &lt;- FALSE
while(!ok) {
## two typical errors: 1-p vs. p, pbinom vs. dbinom
err1 &lt;- 100 * pbinom(k - 1, size = n, prob = 1 - p/100, lower.tail = FALSE)
err2 &lt;- 100 * dbinom(k, size = n, prob = p/100)

## two random errors
rand &lt;- runif(2, min = 0, max = 100)

## make sure solutions and errors are unique
ans &lt;- round(c(sol, err1, err2, rand), digits = 2)
ok &lt;- length(unique(ans)) == 5
}</code></pre>

<p>Additionally, the code makes sure that we really do obtain five distinct numbers. Even if the probability of two distractors coinciding is very small, it might occur eventually. Finally, because the correct solution is always the first element in <code class="highlighter-rouge">ans</code> we can set <code class="highlighter-rouge">exsolution</code> in the meta-information to <code class="highlighter-rouge">10000</code> but then have to set <code class="highlighter-rouge">exshuffle</code> to <code class="highlighter-rouge">TRUE</code> so that the answers are shuffled in each random draw.</p>

<p>So we are quite hopeful that our exercise will do ok in the stress test:</p>

<pre><code class="prettyprint ">s3 &lt;- stresstest_exercise(&quot;binomial3.Rmd&quot;)
plot(s3)</code></pre>
<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest3-overview-1.svg" alt="plot of chunk stresstest3-overview" /></p>

<p>The runtimes are still ok (indicating that the <code class="highlighter-rouge">while</code> loop was rarely used) as are the numeric solutions - and due to shuffling the position of the correct solution
in the answer list is completely random. However, the <em>rank</em> of the solution is not: the correct solution is never the smallest or the largest of the
answer options. The reasons for this surely have to be our typical errors:</p>

<pre><code class="prettyprint ">plot(s3, type = &quot;solution&quot;, variables = c(&quot;err1&quot;, &quot;err2&quot;))</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest3-solution-1.svg" alt="plot of chunk stresstest3-solution" /></p>

<p>And indeed <code class="highlighter-rouge">err1</code> is always (much) larger than the correct solution and <code class="highlighter-rouge">err2</code> is always smaller. Of course, we could have realized this from the way we set up those typical errors but we didn’t have to - due to the stress test. Also, whether or not we consider this to be problem is a different matter. Possibly, if a certain error is very common it does not matter whether it is always larger or smaller than the correct solution.</p>

<h2 id="single-choice-exercise-improved-version">Single-choice exercise: Improved version</h2>

<p>Here, we continue to improve the exercise by randomly selecting only one of the two typical errors. Then, sometimes the error is smaller and sometimes larger than the correct solution.</p>

<pre><code class="prettyprint ">err &lt;- sample(c(err1, err2), 1)</code></pre>

<p>Moreover, we leverage the function <code class="highlighter-rouge">num_to_schoice()</code> (or equivalently <code class="highlighter-rouge">num2schoice()</code>) to sample the random distractors.</p>

<pre><code class="prettyprint ">sc &lt;- num_to_schoice(sol, wrong = err, range = c(2, 98), delta = 0.1)</code></pre>

<p>Again, this is run in a <code class="highlighter-rouge">while()</code> loop to make sure that potential errors are caught (where <code class="highlighter-rouge">num_to_schoice()</code> returns <code class="highlighter-rouge">NULL</code> and issues a warning). This has a couple of desirable features:</p>

<ul>
  <li><code class="highlighter-rouge">num_to_schoice()</code> first samples how many random solutions should be to the left and to the right of the correct solution. This makes sure that even if the correct solution is not in the middle of the admissible range (in our case: either close to 0 or to 100), it is not more likely to get greater vs. smaller distractors.</li>
  <li>We can set a minimum distance <code class="highlighter-rouge">delta</code> between all answer options (correct solution and distractors) to make sure that answers are not too close.</li>
  <li>Shuffling is also carried out automatically so <code class="highlighter-rouge">exshuffle</code> does not have to be set.</li>
</ul>

<p>Finally, the list of possible answers automatically gets LaTeX math markup <code class="highlighter-rouge">$...$</code> for nicer formatting in certain situations. Therefore, for consistency, the <code class="highlighter-rouge">binomial4</code> version of the exercise uses math markup for all numbers in the question.</p>

<p>The corresponding stress test looks sataisfactory now:</p>

<pre><code class="prettyprint ">s4 &lt;- stresstest_exercise(&quot;binomial4.Rmd&quot;)
plot(s4)</code></pre>
<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest4-overview-1.svg" alt="plot of chunk stresstest4-overview" /></p>

<p>Of course, there is still at least one number that is either larger or smaller than the correct solution so that the correct solution takes rank 1 or 5 less often than ranks 2 to 4. But this seems to be a reasonable compromise.</p>

<h2 id="summary">Summary</h2>

<p>When drawing many random versions from a certain exercise template, it is essential to thoroughly check that exercise before using it in real exams. Most importantly, of course, the authors should make sure that the story and setup is sensible, question and solution are carefully formulated, etc. But then the technical aspects should be checked as well. This should include checking whether the exercise can be rendered correctly into PDF via <code class="highlighter-rouge">exams2pdf(...)</code> and into HTML via <code class="highlighter-rouge">exams2html(...)</code> and/or possibly <code class="highlighter-rouge">exams2html(..., converter = "pandoc-mathjax")</code> (to check different forms of math rendering). And when all of this has been checked, <code class="highlighter-rouge">stresstest_exercise()</code> can help to find further problems and/or patterns that can be detected when making many random draws.</p>

<p>The problems in this tutorial could be detected with <code class="highlighter-rouge">n = 100</code> random draws. But it is possible that some edge cases occur only very rarely so that, dependending on the complexity of the data-generating process, it is often useful to use much higher values of <code class="highlighter-rouge">n</code>.</p>

<p>Note that in our <code class="highlighter-rouge">binomial*</code> exercises it would also have been possible to set up all factorial combinations of input parameters, e.g., by <code class="highlighter-rouge">expand.grid(p = 15:30, n = 6:9, k = 1:3)</code>. Then we could have asssessed directly which of these lead to ok solutions and which are too extreme. However, when the data-generating process becomes more complex this might not be so easy. The random exploration as done by <code class="highlighter-rouge">num_to_schoice()</code> is still straightforward, though.</p>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/tutorials/stresstest/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[R/exams @ useR! 2019]]></title>
				<link>http://www.R-exams.org/general/user2019/</link>
        <pubDate>Tue, 09 Jul 2019 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Pre-conference tutorial about R/exams at useR! 2019 (The R User Conference) in Toulouse: Slides, example code, and links to further information.</p>
    
    
    <p><img alt="R/exams @ useR! 2019" src="http://www.R-exams.org/images/user2019.title.png" /></p>
    
    <h2 id="tutorial-at-user-2019">Tutorial at useR! 2019</h2>

<p>Today, the pre-conference tutorials kick off this year’s <a href="https://useR2019.R-project.org/">useR! 2019</a> conference. The organizers kindly invited <a href="http://www.R-exams.org/">R/exams</a> for one of these tutorials. This blog post provides some accompanying resources which may be of interest to those who do not attend the conference/tutorial. The plan is to roughly follow the outline below.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Time</th>
      <th style="text-align: left">Content</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">14:00 <br /> 14:30 <br /> 15:00</td>
      <td style="text-align: left">Introduction (overview, installation, written exam) <br /> Dynamic exercises (numeric, single choice, multiple choice, cloze) <br /> One-for-all (plain PDF, plain HTML, Moodle XML)</td>
    </tr>
    <tr>
      <td style="text-align: left">15:30</td>
      <td style="text-align: left">— <em>Break</em> —</td>
    </tr>
    <tr>
      <td style="text-align: left">16:00 <br /> 16:30 <br /> 17:00</td>
      <td style="text-align: left">E-Learning (Moodle, Canvas, ARSnova, …) <br /> Written exams (NOPS) <br /> Outlook</td>
    </tr>
  </tbody>
</table>

<p>Most importantly the presentation <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/slides.pdf">slides</a> are available in PDF format (under CC-BY) along with an <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/tutorial.R">R script</a> (under GPL-2 or GPL-3) for the examples:</p>

<p><a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/slides.pdf"><img src="http://www.R-exams.org/assets/posts/2019-07-09-user2019/slides.png" alt="slides.pdf" /></a>
<a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/tutorial.R"><img src="http://www.R-exams.org/assets/posts/2019-07-09-user2019/tutorial.png" alt="tutorial.R" /></a></p>

<p>Below, the examples, code, and links from the slides and R script are also provided which might be more convenient for some readers.</p>

<h2 id="introduction">Introduction</h2>

<p>To set up your computer for this tutorial, follow Steps 1-4 in the tutorial <a href="http://www.R-exams.org/tutorials/installation/">http://www.R-exams.org/tutorials/installation/</a>.</p>

<p>Subsequently, we start out with setps described in more detail in <a href="http://www.R-exams.org/tutorials/first_steps/">http://www.R-exams.org/tutorials/first_steps/</a>. The package is loaded and first we create an “exams skeleton” with:</p>

<ul>
  <li><code class="highlighter-rouge">demo-*.R</code> scripts</li>
  <li><code class="highlighter-rouge">exercises/</code> folder with all <code class="highlighter-rouge">.Rmd</code>/<code class="highlighter-rouge">.Rnw</code> exercises</li>
  <li><code class="highlighter-rouge">templates/</code> folder with various customizable templates</li>
  <li><code class="highlighter-rouge">nops/</code> folder (empty) for <code class="highlighter-rouge">exams2nops()</code> output</li>
</ul>

<pre><code class="language-{r}">library("exams")
exams_skeleton()
</code></pre>

<p>To check whether everything works we render a single-choice question (<a href="http://www.R-exams.org/templates/swisscapital/">swisscapital</a>, knowledge quiz about the Swiss capital) into a plain HTML and PDF format, respectively.</p>

<pre><code class="language-{r}">exams2html("swisscapital.Rmd")
exams2pdf("swisscapital.Rmd")
</code></pre>

<p>And then we do the same for a numeric question with mathematical notation: (<a href="http://www.R-exams.org/templates/deriv/">deriv</a>, product rule for derivatives). By default <code class="highlighter-rouge">exams2html()</code> uses MathML for the mathematical notation and expects the browser to render it which works ok in Firefox and Safari. But for Chrome it is better to use MathJax, see this post about <a href="http://www.R-exams.org/tutorials/math/">mathematical notation in web exams</a> for more details.</p>

<pre><code class="language-{r}">exams2html("deriv.Rmd")
exams2html("deriv.Rmd", converter = "pandoc-mathjax")
exams2pdf("deriv.Rmd")
</code></pre>

<p>Finally, a useful trick for checking whether the meta-information associated with an exercise is processed correctly:</p>

<pre><code class="language-{r}">exams_metainfo(exams2html(c("swisscapital.Rmd", "deriv.Rmd")))
</code></pre>

<h2 id="dynamic-exercises">Dynamic exercises</h2>

<p>This section gives a tour of the dynamic exercises shipped along with the package. See <a href="http://www.R-exams.org/intro/dynamic/">http://www.R-exams.org/intro/dynamic/</a> for the supported exercise types and <a href="http://www.R-exams.org/templates/">http://www.R-exams.org/templates/</a> for a list of all example exercises.</p>

<p>Additionally, there is a simple knowledge quiz question about useR! conferences: <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/conferences.Rmd">conferences.Rmd</a>, <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/conferences.Rnw">conferences.Rnw</a>.</p>

<p>And the following exercises are used to illustrate how to go from a static to a dynamic numeric or single-choice question, see <a href="http://www.R-exams.org/tutorials/static_num_schoice/">http://www.R-exams.org/tutorials/static_num_schoice/</a> for more details. While the tutorial uses a basic economic example about computing elasticities, the exercises below are basic arithmetic exercises about derivatives.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">#</th>
      <th style="text-align: left">Exercise templates</th>
      <th style="text-align: left">Dynamic?</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv1.Rmd">expderiv1.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv1.Rnw">expderiv1.Rnw</a></td>
      <td style="text-align: left">No</td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">Fixed parameters and numeric solution.</td>
    </tr>
    <tr>
      <td style="text-align: right">2</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv2.Rmd">expderiv2.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv2.Rnw">expderiv2.Rnw</a></td>
      <td style="text-align: left">No</td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">As in #1 but with single-choice solution (five answer alternatives).</td>
    </tr>
    <tr>
      <td style="text-align: right">3</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv3.Rmd">expderiv3.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv3.Rnw">expderiv3.Rnw</a></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">Randomly drawn parameters with dynamic computation of correct solution, based on #1.</td>
    </tr>
    <tr>
      <td style="text-align: right">4</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv4.Rmd">expderiv4.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv4.Rnw">expderiv4.Rnw</a></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">Randomly drawn parameters (as in #3) with dynamically-generated single-choice solution (as in #2), computed by <code class="highlighter-rouge">num_to_schoice()</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right">5</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv5.Rmd">expderiv5.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-09-user2019/expderiv5.Rnw">expderiv5.Rnw</a></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">As in #4 but with the last alternative: <em>None of the above.</em></td>
    </tr>
  </tbody>
</table>

<p>All of these extra exercise files can be downloaded from within R and stored in the skeleton set up above:</p>

<pre><code class="language-{r}">extra &lt;- c("conferences", paste0("expderiv", 1:5))
extra &lt;- c(paste0(extra, ".Rnw"), paste0(extra, ".Rmd"))
for(i in extra) download.file(paste0("http://www.R-exams.org/assets/posts/2019-07-09-user2019/", i), i)
</code></pre>

<p>To take a tour of the available exercise files, we switch to the <code class="highlighter-rouge">exercises/</code> folder:</p>

<pre><code class="language-{r}">setwd("exercises")
dir()
</code></pre>

<h4 id="numeric-exercises">Numeric exercises</h4>

<pre><code class="language-{r}">exams2html(c(
  "deriv.Rmd",        ## product rule for derivatives
  "tstat.Rmd",        ## 1-sample t-test statistic
  "dist.Rmd",         ## distances and the Pythagorean theorem
  "regression.Rmd",   ## simple linear regression (by hand)
  "fruit.Rmd",        ## image-based systems of linear equations (numeric)
  "lagrange.Rmd",     ## method of Lagrange multipliers
  "currency8.Rmd"     ## convert currencies (UTF-8 encoding)
))
</code></pre>

<h4 id="single-choice-exercises">Single-choice exercises</h4>

<pre><code class="language-{r}">exams2html(c(
  "swisscapital.Rmd", ## knowledge quiz question about the Swiss capital
  "Rlogo.Rmd",        ## knowledge quiz question about the R logo
  "deriv2.Rmd",       ## product rule for derivatives (single-choice, via num_to_schoice)
  "tstat2.Rmd",       ## 1-sample t-test statistic (single-choice, by hand)
  "dist3.Rmd",        ## distances and the Pythagorean theorem (single-choice, via num_to_schoice)
  "fruit2.Rmd",       ## image-based systems of linear equations (single-choice, via num_to_schoice)
  "hessian.Rmd",      ## 2x2 Hessian matrix (single-choice)
  "logic.Rmd"         ## interpretation of logic gates (using TikZ)
))
</code></pre>

<h4 id="multiple-choice-exercises">Multiple-choice exercises</h4>

<pre><code class="language-{r}">exams2html(c(
  "switzerland.Rmd",  ## knowledge quiz question about Switzerland
  "gaussmarkov.Rmd",  ## knowledge quiz question about Gauss-Markov assumptions
  "anova.Rmd",        ## 1-way analysis of variance
  "boxplots.Rmd",     ## interpretation of 2-sample boxplots
  "scatterplot.Rmd",  ## interpretation of a scatterplot
  "ttest.Rmd",        ## interpretation of 2-sample t test
  "relfreq.Rmd",      ## interpretation of relative frequency tables
  "cholesky.Rmd",     ## Cholesky decomposition
  "automaton.Rmd"     ## interpretation of automaton diagrams (using TikZ)
))
</code></pre>

<h4 id="string-exercises">String exercises</h4>

<pre><code class="language-{r}">exams2html(c(
  "function.Rmd",     ## string question about R functions
  "countrycodes.Rmd"  ## string question about ISO country codes
))
</code></pre>

<h4 id="cloze-exercises">Cloze exercises</h4>

<p>These combine several num/schoice/mchoice/string parts:</p>

<pre><code class="language-{r}">exams2html(c(
  "lm.Rmd",           ## simple linear regression (with CSV data, schoice/num)
  "boxhist.Rmd",      ## univariate exploration of a CSV file (schoice/num)
  "confint2.Rmd",     ## 2-sided confidence interval (num)
  "dist2.Rmd",        ## three distances in a Cartesian coordinate system (num)
  "fourfold.Rmd"      ## fourfold table (num)
))
</code></pre>

<h4 id="stress-testing-dynamic-exercises">Stress testing dynamic exercises</h4>

<p>The function <code class="highlighter-rouge">stresstest_exercise()</code> can help to do some basic quality control of dynamic exercise templates. It runs the exercises <code class="highlighter-rouge">n</code> times (default: 100) with seeds <code class="highlighter-rouge">1</code> to <code class="highlighter-rouge">n</code> and stores run time, solution, and accompanying variables (of length 1). This can help to spot problems or patterns in the exercises.</p>

<p>A simple example for a numeric exercise is:</p>

<pre><code class="language-{r}">s3 &lt;- stresstest_exercise("expderiv3.Rmd")
plot(s3)
plot(s3, type = "solution")
</code></pre>

<p>And for a single-choice exercise:</p>

<pre><code class="language-{r}">s4 &lt;- stresstest_exercise("expderiv4.Rmd")
plot(s4)
plot(s4, type = "solution")
</code></pre>

<p>To focus on typical errors the plots against the variables <code class="highlighter-rouge">err1</code> and <code class="highlighter-rouge">err2</code> can either be created by the <code class="highlighter-rouge">plot()</code> method or “by hand” with some customization:</p>

<pre><code class="language-{r}">plot(s4, type = "solution", variables = c("err1", "err2"))
plot(res ~ err1, data = s4$objects)
abline(0, 1)
plot(res ~ err2, data = s4$objects)
abline(0, 1)
</code></pre>

<p>Finally, we switch back to the original folder:</p>

<pre><code class="language-{r}">setwd("..")
</code></pre>

<h2 id="one-for-all">One-for-all</h2>

<p>A basic design idea for R/exams is that the same exercise can, in principle, be rendered into a wide range of different output formats. For standalone files the most important formats are PDF, HTML, and possibly also Docx:</p>

<pre><code class="language-{r}">demo_exam &lt;- c("swisscapital.Rmd", "deriv.Rmd")
exams2html(demo_exam, edir = "exercises")
exams2pdf(demo_exam, edir = "exercises")
exams2pandoc(demo_exam, edir = "exercises")
</code></pre>

<p>The layout can be customized using suitable templates, e.g.,</p>

<pre><code class="language-{r}">exams2pdf(demo_exam, edir = "exercises", template = "templates/exam.tex")
exams2pdf(demo_exam, edir = "exercises", template = "templates/solution.tex")
</code></pre>

<p>Also, <code class="highlighter-rouge">exams2nops()</code> internally sets up a template on the fly and then calls <code class="highlighter-rouge">exams2pdf()</code>. And e-learning exams (Moodle XML, QTI 1.2/2.1, …) are illustrated in the next section.</p>

<h2 id="e-learning-moodle-canvas-arsnova-">E-Learning (Moodle, Canvas, ARSnova, …)</h2>

<p>Output for various e-learning formats can be generated in pretty much the same way as the standalone files above. The main difference is that not one file per exam is generated but a combined output file comprising the desired number of exam replications. For example for Moodle:</p>

<pre><code class="language-{r}">elearn_exam &lt;- c("conferences.Rmd", "deriv.Rmd", "ttest.Rmd", "boxplots.Rmd",
  "function.Rnw", "lm.Rmd", "fourfold2.Rmd", "confint3.Rmd")
set.seed(2019-07-09)
exams2moodle(elearn_exam, n = 30, name = "useR-2019",
  dir = "output", edir = "exercises")
</code></pre>

<p>For the registered participants of the course the resulting online quiz is made available at <a href="https://eeecon.uibk.ac.at/~moodle/">https://eeecon.uibk.ac.at/~moodle/</a>. You can login with your e-mail address and the numeric code sent to you.</p>

<p>Analogously, the numeric and single-/multiple-choice questions (but not yet cloze) can be prepared for Canvas by:</p>

<pre><code class="language-{r}">set.seed(2019-07-09)
exams2canvas(elearn_exam[1:5], n = 3, name = "useR-2019",
  dir = "output", edir = "exercises", duration = 15)
</code></pre>

<p>For OpenOLAT all exercises except one Moodle-specific exercise can be used as well:</p>

<pre><code class="language-{r}">set.seed(2019-07-09)
exams2openolat(elearn_exam[1:7], n = 3, name = "useR-2019-olat",
  dir = "output", edir = "exercises")
</code></pre>

<p>For ARSnova only single- and multiple-choice questions have good support:</p>

<pre><code class="language-{r}">choice_exam &lt;- list(
  "conferences.Rmd",
  "deriv2.Rmd",
  c("ttest.Rmd", "boxplots.Rmd")
)
set.seed(2019-07-09)
exams2arsnova(unlist(choice_exam), n = 1, name = "useR-2019",
  dir = "output", edir = "exercises")
</code></pre>

<h2 id="written-exams-nops">Written exams (NOPS)</h2>

<p>The written demo exam from the tutorial can be replicated by:</p>

<pre><code class="language-{r}">set.seed(2019-07-09)
exams2nops(choice_exam, n = 35, name = "useR-2019",
  dir = "nops", edir = "exercises",
  reglength = 8, blank = 1, date = "2019-07-09",
  title = "Demo Exam", institution = "useR! 2019")
</code></pre>

<p>More details about creating and evaluating NOPS exams is provided in the tutorial at <a href="http://www.R-exams.org/tutorials/exams2nops/">http://www.R-exams.org/tutorials/exams2nops/</a>.</p>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/general/user2019/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[CRAN Release of R/exams 2.3-3 and 2.3-4]]></title>
				<link>http://www.R-exams.org/general/cran_release_234/</link>
        <pubDate>Mon, 08 Jul 2019 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>New minor releases of the R/exams package to CRAN, containing a new dedicated function for online quizzes/exams in the Canvas learning management system. Moreover, the update provides a range of smaller improvements and bug fixes.</p>
    
    
    <p><img alt="CRAN Release of R/exams 2.3-3 and 2.3-4" src="http://www.R-exams.org/images/cran234.title.png" /></p>
    
    <p>Version 2.3-3 and subsequently 2.3-4 of the one-for-all exams generator <a href="http://www.R-exams.org/">R/exams</a> have been published on the Comprehensive R Archive Network at <a href="https://CRAN.R-project.org/package=exams">https://CRAN.R-project.org/package=exams</a>. In the next days this will propagate to other CRAN mirrors along with Windows and OS X binary packages.  Version 2.3-4 was necessary in addition to 2.3-3 to avoid CRAN check problems on platforms where <code class="highlighter-rouge">pandoc</code> is not available (currently, OS X and Solaris). The development version of the package is now version 2.3-5 on R-Forge at <a href="http://R-Forge.R-project.org/forum/?group_id=1337">http://R-Forge.R-project.org/forum/?group_id=1337</a>.</p>

<h2 id="canvas-support">Canvas support</h2>

<p>A new interface <code class="highlighter-rouge">exams2canvas()</code> for the open-source <a href="https://www.instructure.com/canvas/">Canvas learning management system</a> has been added. This is the first dedicated Canvas interface after previously some indirect support was available through either <code class="highlighter-rouge">exams2blackboard()</code> or <code class="highlighter-rouge">exams2qti12()</code>. However, both of these had certain limitations for Canvas that the new function aims to overcome. The function has only received limited testing so far and is likely to improve in future version. Please report any problems to the package maintainer.</p>

<p>Essentially, <code class="highlighter-rouge">exams2canvas()</code> is a wrapper function to <code class="highlighter-rouge">exams2qti12()</code> along with a few Canvas-specific modifications of the QTI XML specification. Supported exercise types are: single-choice, multiple-choice, numeric, and string (but not yet cloze). Embedding mathematical notation, graphics, and data supplements also works.</p>

<h2 id="mathematical-notation-in-moodle">Mathematical notation in Moodle</h2>

<p>The default <code class="highlighter-rouge">converter</code> in <code class="highlighter-rouge">exams2moodle()</code> has been changed to <code class="highlighter-rouge">"pandoc-mathjax"</code>. Thus, instead of relying on the browser to render <a href="http://www.R-exams.org/tutorials/math/">mathematical notation</a> from MathML, the MathJax plugin is now assumed to be enabled on the Moodle server (which is the default when setting up a new Moodle server). To employ MathML as in previous versions one can use <code class="highlighter-rouge">converter = NULL</code>. This either selects <code class="highlighter-rouge">"pandoc-mathml"</code> (or equivalently <code class="highlighter-rouge">"pandoc"</code>) or <code class="highlighter-rouge">"ttm"</code> depending on the markup used in the exercises.</p>

<h2 id="written-exams-nops">Written exams (NOPS)</h2>

<ul>
  <li>Assure in <code class="highlighter-rouge">nops_scan()</code> that scanned image file names contain no spaces.</li>
  <li>Added <code class="highlighter-rouge">\usepackage[...]{babel}</code> support to <a href="http://www.R-exams.org/tutorials/nops_language/">language specification</a> of <code class="highlighter-rouge">exams2nops()</code>. In addition to a new <code class="highlighter-rouge">Babel: ...</code> field, the language <code class="highlighter-rouge">.dcf</code> can also provide a <code class="highlighter-rouge">Header: ...</code> field, e.g., for changing the font encoding or adding further options.</li>
  <li>In <code class="highlighter-rouge">nops_eval()</code> duplicated sheets (original + replacement) were sometimes omitted even if the student ID was just 000000 (i.e., not read correctly by <code class="highlighter-rouge">nops_scan()</code>). A check has been added that avoids this.</li>
</ul>

<h2 id="improvements-and-bug-fixes">Improvements and bug fixes</h2>

<ul>
  <li><code class="highlighter-rouge">exams_skeleton()</code> has been updated. The new default is <code class="highlighter-rouge">markup = "markdown"</code> as this appears to be the more common choice for newcomers to R/exams. Furthermore, the list of exercises in the <code class="highlighter-rouge">demo-*.R</code> scripts has been updated to use newer exercises as well (along with links to the web page: <a href="http://www.R-exams.org/templates/">http://www.R-exams.org/templates/</a>).</li>
  <li>Fixed bugs in <code class="highlighter-rouge">exams2qti21()</code> (and hence <code class="highlighter-rouge">exams2openolat()</code>) for certain combinations of <code class="highlighter-rouge">maxchars</code> specifications in <code class="highlighter-rouge">string</code> exercises.</li>
  <li>For convenience, when <code class="highlighter-rouge">exams2html(..., converter = "pandoc-mathjax")</code>, <code class="highlighter-rouge">mathjax = TRUE</code> is added automatically (unless explicitly switched off).</li>
  <li>The <code class="highlighter-rouge">print()</code> method for <code class="highlighter-rouge">exams_metainfo</code> objects received a new <code class="highlighter-rouge">block</code> argument so that <code class="highlighter-rouge">print(exams_metainfo(x), which = 1, block = 5)</code> prints the metainformation (type/solution) of the first exam in the object <code class="highlighter-rouge">x</code> (output from any <code class="highlighter-rouge">exams2xyz()</code> function) in blocks of 5 exercises. Implemented for the blog about R/exams at <a href="http://www.R-exams.org/general/tamiu_finance">Texas A&amp;M International University</a>.</li>
  <li>For <code class="highlighter-rouge">exams2openolat()</code> the handling of the internal pandoc fixups was extended to replace <code class="highlighter-rouge">align="right"</code> in tables with <code class="highlighter-rouge">style="text-align: right;"</code> (and analogously for “left” and “center”).</li>
  <li>Changed the default of <code class="highlighter-rouge">fix_choice</code> in <code class="highlighter-rouge">exams2arsnova()</code>. Current versions of the official <a href="https://arsnova.eu/">ARSnova server</a> have the LaTeX rendering in the choice options switched off. Hence, by setting <code class="highlighter-rouge">fix_choice = TRUE</code> by default the LaTeX math markup is removed.</li>
  <li>Add <code class="highlighter-rouge">\setkeys{Gin}{keepaspectratio}</code> in the default <code class="highlighter-rouge">exams2pdf()</code> template for pandoc (<code class="highlighter-rouge">plain8.tex</code>) and in <code class="highlighter-rouge">exams2nops()</code>. This is necessitated by a change in pandoc that now always sets <code class="highlighter-rouge">height=\textheight</code> when <code class="highlighter-rouge">width=</code> is specified, see the <a href="https://pandoc.org/faqs.html">pandoc FAQ</a>.</li>
  <li>Added an <code class="highlighter-rouge">envir</code> argument in <code class="highlighter-rouge">exams2moodle()</code> that is passed on to <code class="highlighter-rouge">xweave()</code>.</li>
</ul>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/general/cran_release_234/</guid>
			</item>
		
    
    
			<item>
        <title><![CDATA[Using R/exams for Written Exams in Finance Classes]]></title>
				<link>http://www.R-exams.org/general/tamiu_finance/</link>
        <pubDate>Tue, 23 Apr 2019 00:00:00 +0200</pubDate>
        
        <description><![CDATA[
    
    <p>Experiences with using R/exams for written exams in finance classes with a moderate number of students at Texas A&M International University (TAMIU).</p>
    
    
    <p><img alt="Using R/exams for Written Exams in Finance Classes" src="http://www.R-exams.org/images/tamiu_finance.title.png" /></p>
    
    <p>Guest post by <a href="https://sites.google.com/site/npgraham1/">Nathaniel P. Graham</a> (Texas A&amp;M International University, Division of International Banking and Finance Studies).</p>

<h2 id="background">Background</h2>

<p>While <a href="http://www.R-exams.org">R/exams</a> was originally written for large statistics classes, there is nothing specific to either large courses or statistics. In this article, I will describe how I use R/exams for my “Introduction to Finance (FIN 3310)” course. While occasionally I might have a class of 60 students, I generally have smaller sections of 20–25. These courses are taught and exams are given in-person (some material and homework assignments are delivered via the online learning management system, but I do not currently use R/exams to generate that).</p>

<p>My <a href="http://www.R-exams.org/tutorials/exams2nops/">written exams are generated by <code class="highlighter-rouge">exams2nops()</code></a> and have two components: a multiple-choice portion and a short-answer portion. The former are generated using R/exams’s <a href="http://www.R-exams.org/intro/dynamic/">dynamic exercise</a> format while the latter are included from static PDF documents. Example pages from a typical exam are linked below:</p>

<p><a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//fin3310exam31.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/fin3310exam31.png" alt="fin3310exam31.pdf" /></a>
<a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//fin3310exam31.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/fin3310exam31-3.png" alt="fin3310exam31.pdf" /></a>
<a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//fin3310exam31.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/fin3310exam31-10.png" alt="fin3310exam31.pdf" /></a></p>

<p>Because I have a moderate number of students, I grade all my exams manually. This blog post outlines how the exercises are set up and which R scripts I use to automate the generation of the PDF exams.</p>

<h2 id="multiple-choice-questions">Multiple-choice questions</h2>

<h3 id="shuffling">Shuffling</h3>

<p>The actual questions in my exams are not different from many other <a href="http://www.R-exams.org/templates/">R/exams examples</a>, except that they are about finance instead of statistics. An example is included below with LaTeX markup and both the R/LaTeX (.Rnw) and R/Markdown (.Rmd) versions can be downloaded: <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//goalfinance.Rnw">goalfinance.Rnw</a>, <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//goalfinance.Rmd">goalfinance.Rmd</a>. I have 7 possible answers, but only 5 will be randomly chosen for a given exam (always including the 1 correct answer). To do so, many of my non-numerical questions take advantage of the <code class="highlighter-rouge">exshuffle</code> option here. (If you are one of my students, I <em>told</em> you this would be on the exam!)</p>

<p>Periodic updates to individual questions (stored as separate files) keep the exams fresh.</p>

<pre><code class="prettyprint ">\begin{question}
The primary goal of financial management is to maximize the \dots
\begin{answerlist}
  \item Present value of future operating cash flows
  \item Net income, according to GAAP/IFRS
  \item Market share
  \item Value of the firm
  \item Number of shares outstanding
  \item Book value of shareholder equity
  \item Firm revenue
\end{answerlist}
\end{question}

\exname{Goal of Financial Management}
\extype{schoice}
\exsolution{0001000}
\exshuffle{5}</code></pre>

<h3 id="numerical-exercises">Numerical exercises</h3>

<p>Since this is for a finance class, there are numerical exercises as well. Every semester, I promise my students that this problem <em>will</em> be on the second midterm. The problem is simple: given some cash flows and a discount rate, calculate the net present value (NPV), see <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//npvcalc.Rnw">npvcalc.Rnw</a>, <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//npvcalc.Rmd">npvcalc.Rmd</a>. Since the cash flows, the discount rate, and the answers are generated from random numbers, I would not gain much from defining more than five possible, the way I did in the qualitative question above. As you might expect, some of the incorrect answers are common mistakes students make when approaching NPV, so I have not lost anything relative to the carefully crafted questions and answers I used in the past to find out who really learned the material.</p>

<pre><code class="prettyprint ">&lt;&lt;echo=FALSE, results=hide&gt;&gt;=
discountrate &lt;- round(runif(1, min = 6.0, max = 15.0), 2)
r &lt;- discountrate / 100.0

cf0 &lt;- sample(10:20, 1) * -100
ocf &lt;- sample(seq(200, 500, 25), 5)
discounts &lt;- sapply(1:5, function(i) (1 + r) ** i)
npv &lt;- round(sum(ocf / discounts) + cf0, 2)

notvm &lt;- round(sum(ocf) + cf0, 2)
wrongtvm &lt;- round(sum(ocf / (1.0 + r)) + cf0, 2)
revtvm &lt;- round(sum(ocf * (1.0 + r)) + cf0, 2)
offnpv &lt;- round(npv + sample(c(-200.0, 200.0), 1), 2)
@

\begin{question}
Assuming the discount rate is \Sexpr{discountrate}\%, find the 
net present value of a project with the following cash flows, starting
at time 0: \$\Sexpr{cf0}, \Sexpr{ocf[1]}, \Sexpr{ocf[2]}, \Sexpr{ocf[3]},
\Sexpr{ocf[4]}, \Sexpr{ocf[5]}.
\begin{answerlist}
  \item \$\Sexpr{wrongtvm}
  \item \$\Sexpr{notvm}
  \item \$\Sexpr{npv}
  \item \$\Sexpr{revtvm}
  \item \$\Sexpr{offnpv}
\end{answerlist}
\end{question}

\exname{Calculating NPV}
\extype{schoice}
\exsolution{00100}
\exshuffle{5}</code></pre>

<h3 id="leveraging-rs-flexibility">Leveraging R’s flexibility</h3>

<p>While there are other methods of generating randomized exams out there, few are as flexible as R/exams, in large part because we have full access to R. The next example also appears on my second midterm; it asks students to compute the internal rate of return for a set of cash flows, see <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//irrcalc.Rnw">irrcalc.Rnw</a>,  <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//irrcalc.Rmd">irrcalc.Rmd</a>. Numerically, this is a simple root-finding problem, but systems that do not support more advanced mathematical operations (such as Blackboard’s “Calculated Formula” questions) can make this difficult or impossible to implement directly.</p>

<pre><code class="prettyprint ">&lt;&lt;echo=FALSE, results=hide&gt;&gt;=
cf0 &lt;- sample(10:16, 1) * -100
ocf &lt;- sample(seq(225, 550, 25), 5)

npvfunc &lt;- function(r) {
  discounts &lt;- sapply(1:5, function(i) (1 + r) ** i)
  npv &lt;- (sum(ocf / discounts) + cf0) ** 2
  return(npv)
}

res &lt;- optimize(npvfunc, interval = c(-1,1))

irr &lt;- round(res$minimum, 4) * 100.0

wrong1 &lt;- irr + sample(c(1.0, -1.0), 1)
wrong2 &lt;- irr + sample(c(0.25, -0.25), 1)
wrong3 &lt;- irr + sample(c(0.5, -0.5), 1)
wrong4 &lt;- irr + sample(c(0.75, -0.75), 1)
@

\begin{question}
Find the internal rate of return of a project with the following cash flows,
starting at time 0: \$\Sexpr{cf0}, \Sexpr{ocf[1]}, \Sexpr{ocf[2]}, 
\Sexpr{ocf[3]}, \Sexpr{ocf[4]}, \Sexpr{ocf[5]}.
\begin{answerlist}
  \item \Sexpr{wrong1}\%
  \item \Sexpr{wrong2}\%
  \item \Sexpr{irr}\%
  \item \Sexpr{wrong3}\%
  \item \Sexpr{wrong4}\%
\end{answerlist}
\end{question}

\exname{Calculating IRR}
\extype{schoice}
\exsolution{00100}
\exshuffle{5}</code></pre>

<h2 id="short-answer-questions">Short-answer questions</h2>

<p>While <code class="highlighter-rouge">exams2nops()</code> has some support for open-ended questions that are scored manually, it is very limited. I create and format those questions in the traditional manner (Word or LaTeX) and  save the resulting file as a PDF. Alternatively, a custom <code class="highlighter-rouge">exams2pdf()</code> could be used for this. Finally, I add this PDF file on to the end of the exam using the <code class="highlighter-rouge">pages</code> option of <code class="highlighter-rouge">exams2nops()</code> (as illustrated in more detail below). As an example, the short-answer questions from the final exam above are given in the following PDF file:</p>

<p><a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//exam3sa.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/exam3sa.png" alt="exam3sa.pdf" /></a></p>

<p>To facilitate automatic inclusion of these short-answer questions, a naming convention is adopted in the scripts below. The script looks for a file named <code class="highlighter-rouge">examNsa.pdf</code>, where <code class="highlighter-rouge">N</code> is the exam number (1 for the first midterm exam, 2 for the second, and 3 for the final exam) and sets <code class="highlighter-rouge">pages</code> to it. So for the final exam, it looks for the file <code class="highlighter-rouge">exam3sa.pdf</code>. If I want to update my short-answer questions, I just replace the old PDF with a new one.</p>

<h2 id="midterm-exams">Midterm exams</h2>

<p>I keep the questions for each exam in their own directory, which makes the script below that I use to generate exams 1 and 2 straightforward. For the moment, the script uses all the questions in an exam’s directory, but I if want to guarantee that I have exactly (for example) 20 multiple choice questions, I could set <code class="highlighter-rouge">nsamp = 20</code> instead of however many Rnw (or Rmd) files it finds.</p>

<p>Note that <code class="highlighter-rouge">exlist</code> is a list with one element (a vector of file names), so that R/exams will randomize the order of the questions as well. If I wanted to specify the order, I could make <code class="highlighter-rouge">exlist</code> a list of N elements, where each element was exactly one file/question. The <code class="highlighter-rouge">nsamp</code> option could then be left unset (the default is <code class="highlighter-rouge">NULL</code>).</p>

<p>When I generate a new set of exams, I only need to update the first four lines, and the script does the rest. Note that I use a modified version of the English <code class="highlighter-rouge">en.dcf</code> <a href="http://www.R-exams.org/tutorials/nops_language/">language configuration file</a> in order to adapt some terms to TAMIU’s terminology, e.g., “ID Number” instead of the <code class="highlighter-rouge">exams2nops()</code> default “Registration Number”. See <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//en_tamiu.dcf">en_tamiu.dcf</a> for the details. Since the TAMIU student ID numbers have 8 digits, I use the <code class="highlighter-rouge">reglength = 8</code> argument, which sets the number of digits in the ID Number to 8.</p>

<pre><code class="prettyprint ">library(&quot;exams&quot;)

## configuration: change these to make a new batch of exams
exid       &lt;- 2
exnum      &lt;- 19
exdate     &lt;- &quot;2019-04-04&quot;
exsemester &lt;- &quot;SP19&quot;
excourse   &lt;- &quot;FIN 3310&quot;

## options derived from configuration above
exnam      &lt;- paste0(&quot;fin3310exam&quot;, exid)
extitle    &lt;- paste(excourse, exsemester, &quot;Exam&quot;, exid, sep = &quot; &quot;)
saquestion &lt;- paste0(&quot;SA_questions/exam&quot;, exid, &quot;sa.pdf&quot;)

## exercise directory (edir) and output directory (odir)
exedir &lt;- paste0(&quot;fin3310_exam&quot;, exid, &quot;_exercises&quot;)
exodir &lt;- &quot;nops&quot;
if(!dir.exists(exodir)) dir.create(exodir) ## in case it was previously deleted
exodir &lt;- paste0(exodir, &quot;/exam&quot;, exid, &quot;_&quot;, format(Sys.Date(), &quot;%Y-%m-%d&quot;))

## exercise list: one element with a vector of all available file names
exlist &lt;- list(dir(path = exedir, pattern = &quot;\.Rnw$&quot;))

## generate exam
set.seed(54321) # not the actual random seed
exams2nops(file = exlist, 
  n = exnum, nsamp = length(exlist[[1]]), dir = exodir, edir = exedir,
  name = exnam, date = exdate, course = excourse, title = extitle,
  institution = &quot;Texas A\\&amp;M International University&quot;, 
  language = &quot;en_tamiu.dcf&quot;, encoding = &quot;UTF-8&quot;, 
  pages = saquestion, blank = 1, logo = NULL, reglength = 8,
  samepage = TRUE)</code></pre>

<h2 id="final-exam">Final exam</h2>

<p>My final exam is comprehensive, so I would like to include questions from the previous exams. I do not want to keep separate copies of those questions just for the final, in case I update one version and forget to update the other, so I need a script that gathers up questions from the first two midterms and adds in some questions specific to the final.</p>

<p>The script below uses a feature that has long been available in R/exams but was undocumented up to version 2.3-2: You can set <code class="highlighter-rouge">edir</code> to a directory and all its subdirectories will be included in the search path. I have specified some required questions that I want to appear on every student’s exam; each student will also get a random draw of other questions from the first two midterms in addition to some questions that only appear on the final. How many of each is controlled by <code class="highlighter-rouge">exnsamp</code>, which is passed to the <code class="highlighter-rouge">nsamp</code> argument. They add up to 40 currently, so <code class="highlighter-rouge">exams2nops()</code>’s 45 question limit does not affect me.</p>

<pre><code class="prettyprint ">library(&quot;exams&quot;)

## configuration: change these to make a new batch of exams
exnum      &lt;- 19
exdate     &lt;- &quot;2019-04-30&quot;
exsemester &lt;- &quot;SP19&quot;
excourse   &lt;- &quot;FIN 3310&quot;

## options derived from configuration above
extitle &lt;- paste(excourse, exsemester, &quot;Exam&quot;, exid, sep = &quot; &quot;)

## exercise directory (edir) and output directory (odir)
exedir &lt;- getwd()
exodir &lt;- &quot;nops&quot;
if(!dir.exists(exodir)) dir.create(exodir)
exodir &lt;- paste0(exodir, &quot;/exam3&quot;, &quot;_&quot;, format(Sys.Date(), &quot;%Y-%m-%d&quot;))

## exercises: required and from previous midterms
exrequired &lt;- c(&quot;goalfinance.Rnw&quot;, &quot;pvcalc.Rnw&quot;, &quot;cashcoverageortie.Rnw&quot;,
  &quot;ocfcalc.Rnw&quot;, &quot;discountratecalc.Rnw&quot;, &quot;npvcalc.Rnw&quot;, &quot;npvcalc2.Rnw&quot;,
  &quot;stockpriceisabouttopaycalc.Rnw&quot;, &quot;annuitycalc.Rnw&quot;, &quot;irrcalc.Rnw&quot;)
exlist1 &lt;- dir(path = &quot;fin3310_exam1_exercises&quot;, pattern = &quot;\.Rnw$&quot;)
exlist2 &lt;- dir(path = &quot;fin3310_exam2_exercises&quot;, pattern = &quot;\.Rnw$&quot;)
exlist3 &lt;- dir(path = &quot;fin3310_exam3_exercises&quot;, pattern = &quot;\.Rnw$&quot;)

## final list and corresponding number to be sampled
exlist &lt;- list(
  exrequired, 
  setdiff(exlist1, exrequired),
  setdiff(exlist2, exrequired),
  exlist3
)
exnsamp &lt;- c(10, 5, 10, 15)

## generate exam
set.seed(54321) # not the actual random seed
exams2nops(file = exlist, 
  n = exnum, nsamp = exnsamp, dir = exodir, edir = exedir,
  name = &quot;fin3310exam3&quot;, date = exdate, course = excourse, title = extitle, 
  institution = &quot;Texas A\\&amp;M International University&quot;, 
  language = &quot;en_tamiu.dcf&quot;, encoding = &quot;UTF-8&quot;, 
  pages = &quot;SA_questions/exam3sa.pdf&quot;, blank = 1, logo = NULL, 
  reglength = 8, samepage = TRUE)</code></pre>

<h2 id="grading">Grading</h2>

<p>R/exams can read scans of the answer sheet, automating grading for the multiple-choice questions. For a variety of reasons, I do not use any of those features. If I had to teach larger classes I would doubtless find a way to make it convenient, but for the foreseeable future I will continue to use the function below to produce the answer key for each exam, which I grade by hand. This is not especially onorous, since I have to grade the short-answer questions by hand anyway.</p>

<p>Given the serialized R data file (.rds) produced by <code class="highlighter-rouge">exam2nops()</code> the corresponding <code class="highlighter-rouge">exams_metainfo()</code> can be extracted. This comes with a <code class="highlighter-rouge">print()</code> method that displays all correct answers for a given exam. Starting from R/exams version 2.3-3 (current R-Forge devel version) it is also possible to split the output into blocks of five for easy reading (matching the blocks on the answer sheets). As an example the first few correct answers of the third exam are extracted:</p>

<pre><code class="prettyprint ">fin3310exam3 &lt;- readRDS(&quot;fin3310exam3.rds&quot;)
print(exams_metainfo(fin3310exam1), which = 3, block = 5)</code></pre>

<pre><code>## 19043000003
##      1. Discount Rate: 1
##      2. Calculating IRR: 4
##      3. Present Value: 3
##      4. Calculating stock prices: 5
##      5. Calculating NPV: 3
## 
##      6. Annuity PV: 3
##      7. Goal of Financial Management: 1
##      8. Finding OCF: 5
##      ...
</code></pre>

<p>It can be convenient to display the correct answers in a customized format, e.g., with letters instead of numbers and omitting the exercise title text. To do so, the code below sets up a function <code class="highlighter-rouge">exam_solutions()</code>, applying it to the same exam as above.</p>

<pre><code class="prettyprint ">exam_solutions &lt;- function(examdata, examnum) {
  solutions &lt;- LETTERS[sapply(examdata[[examnum]],
                 function(x) which(x$metainfo$solution))]
  data.frame(Solution = solutions)
}
split(exam_solutions(fin3310exam3, examnum = 3), rep(1:8, each = 5))</code></pre>

<pre><code>## $`1`
##   Solution
## 1        A
## 2        D
## 3        C
## 4        E
## 5        C
## 
## $`2`
##    Solution
## 6         C
## 7         A
## 8         E
##         ...
</code></pre>

<p>The only downside of the manual grading approach is that I do not have students’ responses in an electronic format for easy statistical analysis, but otherwise grading is very fast.</p>

<h2 id="wrapping-up">Wrapping up</h2>

<p>Using the system above, R/exams works well even for small courses with in-person, paper exams. I do not need to worry about copies of my exams getting out and students memorizing it, or any of the many ways students have found to cheat over the years. By doing all the formatting work for me, R/exams helps me avoid a lot of the finicky aspects of adding, adjusting, or removing questions from an existing exam, and generally keeps exam construction focused on the important part: writing questions that gauge students’ progress.</p>

    ]]></description>
				<guid isPermaLink="true">http://www.R-exams.org/general/tamiu_finance/</guid>
			</item>
		
	</channel>
</rss>
