<!doctype html>
<html class="no-js" lang="en">
<head>
		<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Using R/exams for Written Exams in Finance Classes</title>
	<link rel="stylesheet" type="text/css" href="http://www.R-exams.org/assets/css/styles_feeling_responsive.css" />
	<script src="http://www.R-exams.org/assets/js/modernizr.min.js"></script>
  

  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
  <script>
    WebFont.load({
      google: {
        families: [ 'Lato:400,700,400italic:latin', 'Noto+Serif:400,700,400italic:latin' ]
      }
    });
  </script>

  <noscript>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css' />
  </noscript>

	
	
	<meta name="description" content="Experiences with using R/exams for written exams in finance classes with a moderate number of students at Texas A&amp;M International University (TAMIU)." />
	<meta name="keywords" content="R, exams, exams2nops" />
	
	<meta name="author" content="Achim Zeileis" />

	
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/icons/manifest.json">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#1f7a7a">
<link rel="shortcut icon" href="/assets/icons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="R/exams">
<meta name="application-name" content="R/exams">
<meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
<meta name="theme-color" content="#1f7a7a">


	<!-- Search Engine Optimization -->
	
	
	

	<!-- Facebook Optimization -->
	<meta property="og:title" content="Using R/exams for Written Exams in Finance Classes" />
	<meta property="og:description" content="Experiences with using R/exams for written exams in finance classes with a moderate number of students at Texas A&amp;M International University (TAMIU)." />
	<meta property="og:url" content="http://www.R-exams.org//general/tamiu_finance/" />
	<meta property="og:locale" content="en_EN" />
	<meta property="og:type" content="website" />
	<meta property="og:site_name" content="R/exams" />
	<meta property="og:image" content="http://www.R-exams.org/images/tamiu_finance.title.png" />
	
	<meta property="og:image" content="http://www.R-exams.org/images/tamiu_finance.300.png" />

	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="AchimZeileis" />
	<meta name="twitter:creator" content="AchimZeileis" />
	<meta name="twitter:title" content="Using R/exams for Written Exams in Finance Classes" />
	<meta name="twitter:description" content="Experiences with using R/exams for written exams in finance classes with a moderate number of students at Texas A&amp;M International University (TAMIU)." />
	<meta name="twitter:image" content="http://www.R-exams.org/images/tamiu_finance.300.png" />


	<link type="text/plain" rel="author" href="http://www.R-exams.org/humans.txt" />

	

	

	<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    /// var u=(("https:" == document.location.protocol) ? "https" : "http") + "://retostauffer.org/piwik/"; ///
    var u="https" + "://retostauffer.org/piwik/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "3"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

</head>
<body id="top-of-page" class="post">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
          <a href="http://www.R-exams.org">
            <img class='nav-logo' src="http://www.R-exams.org/assets/img/logo.svg" alt="R/exams">
          </a>
          <!-- <h1 class="show-for-small-only"><a href="http://www.R-exams.org" class="icon-tree"> R/exams</a></h1> -->
      </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="left">
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://www.R-exams.org/">R/exams</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://www.R-exams.org/intro/elearning/">E-Learning</a></li>
                    

                      

                      <li><a href="http://www.R-exams.org/intro/oneforall/">One-for-All</a></li>
                    

                      

                      <li><a href="http://www.R-exams.org/intro/written/">Written Exams</a></li>
                    

                      

                      <li><a href="http://www.R-exams.org/intro/dynamic/">Dynamic Exercises</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            
              <li><a href="http://www.R-exams.org/tutorials/">Tutorials</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a href="http://www.R-exams.org/templates/">Exercise Templates</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a href="http://www.R-exams.org/blog/">Blog</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        

              

          
          
        

              

          
          
        
        
      </ul>

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.R-exams.org/resources/">Resources</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.R-exams.org/contact/">Contact</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.R-exams.org/search/">Search</a></li>

            
            
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<!-- <div id="masthead-no-image-header"> -->
	<!-- <div class="row"> -->
		<!-- <div class="small-12 columns"> -->
			<!-- <a id="logo" href="http://www.R-exams.org" title="R/exams – The One-for-All Exams Generator"> -->
				<!-- <img src="http://www.R-exams.org/assets/img/logo.svg" alt="R/exams – The One-for-All Exams Generator"> -->
			<!-- </a> -->
		<!-- </div>[> /.small-12.columns <] -->
	<!-- </div>[> /.row <] -->
<!-- </div>[> /#masthead <] -->










	<div class="row t30">
	<div class="columns medium-10 medium-offset-1 end">
		<article itemscope itemtype="http://schema.org/Article">
			<header>
				
				<figure>
					<img src="http://www.R-exams.org/images/tamiu_finance.title.png" width="970" alt="Using R/exams for Written Exams in Finance Classes" itemprop="image">

					
					<figcaption class="text-right">
						Introduction to Finance (FIN 3310, TAMIU) exam screenshot (CC-BY).
					</figcaption>
					
				</figure>
				

				<span itemprop="name">
					
					<h1>Using R/exams for Written Exams in Finance Classes</h1>
				</span>
			</header>


			
			<p class="teaser" itemprop="description">
				Experiences with using R/exams for written exams in finance classes with a moderate number of students at Texas A&M International University (TAMIU).
			</p>
			

			<span itemprop="articleSection">
			<p>Guest post by <a href="https://sites.google.com/site/npgraham1/">Nathaniel P. Graham</a> (Texas A&amp;M International University, Division of International Banking and Finance Studies).</p>

<h2 id="background">Background</h2>

<p>While <a href="http://www.R-exams.org">R/exams</a> was originally written for large statistics classes, there is nothing specific to either large courses or statistics. In this article, I will describe how I use R/exams for my “Introduction to Finance (FIN 3310)” course. While occasionally I might have a class of 60 students, I generally have smaller sections of 20–25. These courses are taught and exams are given in-person (some material and homework assignments are delivered via the online learning management system, but I do not currently use R/exams to generate that).</p>

<p>My <a href="http://www.R-exams.org/tutorials/exams2nops/">written exams are generated by <code class="highlighter-rouge">exams2nops()</code></a> and have two components: a multiple-choice portion and a short-answer portion. The former are generated using R/exams’s <a href="http://www.R-exams.org/intro/dynamic/">dynamic exercise</a> format while the latter are included from static PDF documents. Example pages from a typical exam are linked below:</p>

<p><a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//fin3310exam31.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/fin3310exam31.png" alt="fin3310exam31.pdf" /></a>
<a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//fin3310exam31.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/fin3310exam31-3.png" alt="fin3310exam31.pdf" /></a>
<a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//fin3310exam31.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/fin3310exam31-10.png" alt="fin3310exam31.pdf" /></a></p>

<p>Because I have a moderate number of students, I grade all my exams manually. This blog post outlines how the exercises are set up and which R scripts I use to automate the generation of the PDF exams.</p>

<h2 id="multiple-choice-questions">Multiple-choice questions</h2>

<h3 id="shuffling">Shuffling</h3>

<p>The actual questions in my exams are not different from many other <a href="http://www.R-exams.org/templates/">R/exams examples</a>, except that they are about finance instead of statistics. An example is included below with LaTeX markup and both the R/LaTeX (.Rnw) and R/Markdown (.Rmd) versions can be downloaded: <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//goalfinance.Rnw">goalfinance.Rnw</a>, <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//goalfinance.Rmd">goalfinance.Rmd</a>. I have 7 possible answers, but only 5 will be randomly chosen for a given exam (always including the 1 correct answer). To do so, many of my non-numerical questions take advantage of the <code class="highlighter-rouge">exshuffle</code> option here. (If you are one of my students, I <em>told</em> you this would be on the exam!)</p>

<p>Periodic updates to individual questions (stored as separate files) keep the exams fresh.</p>

<pre><code class="prettyprint ">\begin{question}
The primary goal of financial management is to maximize the \dots
\begin{answerlist}
  \item Present value of future operating cash flows
  \item Net income, according to GAAP/IFRS
  \item Market share
  \item Value of the firm
  \item Number of shares outstanding
  \item Book value of shareholder equity
  \item Firm revenue
\end{answerlist}
\end{question}

\exname{Goal of Financial Management}
\extype{schoice}
\exsolution{0001000}
\exshuffle{5}</code></pre>

<h3 id="numerical-exercises">Numerical exercises</h3>

<p>Since this is for a finance class, there are numerical exercises as well. Every semester, I promise my students that this problem <em>will</em> be on the second midterm. The problem is simple: given some cash flows and a discount rate, calculate the net present value (NPV), see <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//npvcalc.Rnw">npvcalc.Rnw</a>, <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//npvcalc.Rmd">npvcalc.Rmd</a>. Since the cash flows, the discount rate, and the answers are generated from random numbers, I would not gain much from defining more than five possible, the way I did in the qualitative question above. As you might expect, some of the incorrect answers are common mistakes students make when approaching NPV, so I have not lost anything relative to the carefully crafted questions and answers I used in the past to find out who really learned the material.</p>

<pre><code class="prettyprint ">&lt;&lt;echo=FALSE, results=hide&gt;&gt;=
discountrate &lt;- round(runif(1, min = 6.0, max = 15.0), 2)
r &lt;- discountrate / 100.0

cf0 &lt;- sample(10:20, 1) * -100
ocf &lt;- sample(seq(200, 500, 25), 5)
discounts &lt;- sapply(1:5, function(i) (1 + r) ** i)
npv &lt;- round(sum(ocf / discounts) + cf0, 2)

notvm &lt;- round(sum(ocf) + cf0, 2)
wrongtvm &lt;- round(sum(ocf / (1.0 + r)) + cf0, 2)
revtvm &lt;- round(sum(ocf * (1.0 + r)) + cf0, 2)
offnpv &lt;- round(npv + sample(c(-200.0, 200.0), 1), 2)
@

\begin{question}
Assuming the discount rate is \Sexpr{discountrate}\%, find the 
net present value of a project with the following cash flows, starting
at time 0: \$\Sexpr{cf0}, \Sexpr{ocf[1]}, \Sexpr{ocf[2]}, \Sexpr{ocf[3]},
\Sexpr{ocf[4]}, \Sexpr{ocf[5]}.
\begin{answerlist}
  \item \$\Sexpr{wrongtvm}
  \item \$\Sexpr{notvm}
  \item \$\Sexpr{npv}
  \item \$\Sexpr{revtvm}
  \item \$\Sexpr{offnpv}
\end{answerlist}
\end{question}

\exname{Calculating NPV}
\extype{schoice}
\exsolution{00100}
\exshuffle{5}</code></pre>

<h3 id="leveraging-rs-flexibility">Leveraging R’s flexibility</h3>

<p>While there are other methods of generating randomized exams out there, few are as flexible as R/exams, in large part because we have full access to R. The next example also appears on my second midterm; it asks students to compute the internal rate of return for a set of cash flows, see <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//irrcalc.Rnw">irrcalc.Rnw</a>,  <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//irrcalc.Rmd">irrcalc.Rmd</a>. Numerically, this is a simple root-finding problem, but systems that do not support more advanced mathematical operations (such as Blackboard’s “Calculated Formula” questions) can make this difficult or impossible to implement directly.</p>

<pre><code class="prettyprint ">&lt;&lt;echo=FALSE, results=hide&gt;&gt;=
cf0 &lt;- sample(10:16, 1) * -100
ocf &lt;- sample(seq(225, 550, 25), 5)

npvfunc &lt;- function(r) {
  discounts &lt;- sapply(1:5, function(i) (1 + r) ** i)
  npv &lt;- (sum(ocf / discounts) + cf0) ** 2
  return(npv)
}

res &lt;- optimize(npvfunc, interval = c(-1,1))

irr &lt;- round(res$minimum, 4) * 100.0

wrong1 &lt;- irr + sample(c(1.0, -1.0), 1)
wrong2 &lt;- irr + sample(c(0.25, -0.25), 1)
wrong3 &lt;- irr + sample(c(0.5, -0.5), 1)
wrong4 &lt;- irr + sample(c(0.75, -0.75), 1)
@

\begin{question}
Find the internal rate of return of a project with the following cash flows,
starting at time 0: \$\Sexpr{cf0}, \Sexpr{ocf[1]}, \Sexpr{ocf[2]}, 
\Sexpr{ocf[3]}, \Sexpr{ocf[4]}, \Sexpr{ocf[5]}.
\begin{answerlist}
  \item \Sexpr{wrong1}\%
  \item \Sexpr{wrong2}\%
  \item \Sexpr{irr}\%
  \item \Sexpr{wrong3}\%
  \item \Sexpr{wrong4}\%
\end{answerlist}
\end{question}

\exname{Calculating IRR}
\extype{schoice}
\exsolution{00100}
\exshuffle{5}</code></pre>

<h2 id="short-answer-questions">Short-answer questions</h2>

<p>While <code class="highlighter-rouge">exams2nops()</code> has some support for open-ended questions that are scored manually, it is very limited. I create and format those questions in the traditional manner (Word or LaTeX) and  save the resulting file as a PDF. Alternatively, a custom <code class="highlighter-rouge">exams2pdf()</code> could be used for this. Finally, I add this PDF file on to the end of the exam using the <code class="highlighter-rouge">pages</code> option of <code class="highlighter-rouge">exams2nops()</code> (as illustrated in more detail below). As an example, the short-answer questions from the final exam above are given in the following PDF file:</p>

<p><a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//exam3sa.pdf"><img src="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance/exam3sa.png" alt="exam3sa.pdf" /></a></p>

<p>To facilitate automatic inclusion of these short-answer questions, a naming convention is adopted in the scripts below. The script looks for a file named <code class="highlighter-rouge">examNsa.pdf</code>, where <code class="highlighter-rouge">N</code> is the exam number (1 for the first midterm exam, 2 for the second, and 3 for the final exam) and sets <code class="highlighter-rouge">pages</code> to it. So for the final exam, it looks for the file <code class="highlighter-rouge">exam3sa.pdf</code>. If I want to update my short-answer questions, I just replace the old PDF with a new one.</p>

<h2 id="midterm-exams">Midterm exams</h2>

<p>I keep the questions for each exam in their own directory, which makes the script below that I use to generate exams 1 and 2 straightforward. For the moment, the script uses all the questions in an exam’s directory, but I if want to guarantee that I have exactly (for example) 20 multiple choice questions, I could set <code class="highlighter-rouge">nsamp = 20</code> instead of however many Rnw (or Rmd) files it finds.</p>

<p>Note that <code class="highlighter-rouge">exlist</code> is a list with one element (a vector of file names), so that R/exams will randomize the order of the questions as well. If I wanted to specify the order, I could make <code class="highlighter-rouge">exlist</code> a list of N elements, where each element was exactly one file/question. The <code class="highlighter-rouge">nsamp</code> option could then be left unset (the default is <code class="highlighter-rouge">NULL</code>).</p>

<p>When I generate a new set of exams, I only need to update the first four lines, and the script does the rest. Note that I use a modified version of the English <code class="highlighter-rouge">en.dcf</code> <a href="http://www.R-exams.org/tutorials/nops_language/">language configuration file</a> in order to adapt some terms to TAMIU’s terminology, e.g., “ID Number” instead of the <code class="highlighter-rouge">exams2nops()</code> default “Registration Number”. See <a href="http://www.R-exams.org/assets/posts/2019-04-23-tamiu_finance//en_tamiu.dcf">en_tamiu.dcf</a> for the details. Since the TAMIU student ID numbers have 8 digits, I use the <code class="highlighter-rouge">reglength = 8</code> argument, which sets the number of digits in the ID Number to 8.</p>

<pre><code class="prettyprint ">library(&quot;exams&quot;)

## configuration: change these to make a new batch of exams
exid       &lt;- 2
exnum      &lt;- 19
exdate     &lt;- &quot;2019-04-04&quot;
exsemester &lt;- &quot;SP19&quot;
excourse   &lt;- &quot;FIN 3310&quot;

## options derived from configuration above
exnam      &lt;- paste0(&quot;fin3310exam&quot;, exid)
extitle    &lt;- paste(excourse, exsemester, &quot;Exam&quot;, exid, sep = &quot; &quot;)
saquestion &lt;- paste0(&quot;SA_questions/exam&quot;, exid, &quot;sa.pdf&quot;)

## exercise directory (edir) and output directory (odir)
exedir &lt;- paste0(&quot;fin3310_exam&quot;, exid, &quot;_exercises&quot;)
exodir &lt;- &quot;nops&quot;
if(!dir.exists(exodir)) dir.create(exodir) ## in case it was previously deleted
exodir &lt;- paste0(exodir, &quot;/exam&quot;, exid, &quot;_&quot;, format(Sys.Date(), &quot;%Y-%m-%d&quot;))

## exercise list: one element with a vector of all available file names
exlist &lt;- list(dir(path = exedir, pattern = &quot;\.Rnw$&quot;))

## generate exam
set.seed(54321) # not the actual random seed
exams2nops(file = exlist, 
  n = exnum, nsamp = length(exlist[[1]]), dir = exodir, edir = exedir,
  name = exnam, date = exdate, course = excourse, title = extitle,
  institution = &quot;Texas A\\&amp;M International University&quot;, 
  language = &quot;en_tamiu.dcf&quot;, encoding = &quot;UTF-8&quot;, 
  pages = saquestion, blank = 1, logo = NULL, reglength = 8,
  samepage = TRUE)</code></pre>

<h2 id="final-exam">Final exam</h2>

<p>My final exam is comprehensive, so I would like to include questions from the previous exams. I do not want to keep separate copies of those questions just for the final, in case I update one version and forget to update the other, so I need a script that gathers up questions from the first two midterms and adds in some questions specific to the final.</p>

<p>The script below uses a feature that has long been available in R/exams but was undocumented up to version 2.3-2: You can set <code class="highlighter-rouge">edir</code> to a directory and all its subdirectories will be included in the search path. I have specified some required questions that I want to appear on every student’s exam; each student will also get a random draw of other questions from the first two midterms in addition to some questions that only appear on the final. How many of each is controlled by <code class="highlighter-rouge">exnsamp</code>, which is passed to the <code class="highlighter-rouge">nsamp</code> argument. They add up to 40 currently, so <code class="highlighter-rouge">exams2nops()</code>’s 45 question limit does not affect me.</p>

<pre><code class="prettyprint ">library(&quot;exams&quot;)

## configuration: change these to make a new batch of exams
exnum      &lt;- 19
exdate     &lt;- &quot;2019-04-30&quot;
exsemester &lt;- &quot;SP19&quot;
excourse   &lt;- &quot;FIN 3310&quot;

## options derived from configuration above
extitle &lt;- paste(excourse, exsemester, &quot;Exam&quot;, exid, sep = &quot; &quot;)

## exercise directory (edir) and output directory (odir)
exedir &lt;- getwd()
exodir &lt;- &quot;nops&quot;
if(!dir.exists(exodir)) dir.create(exodir)
exodir &lt;- paste0(exodir, &quot;/exam3&quot;, &quot;_&quot;, format(Sys.Date(), &quot;%Y-%m-%d&quot;))

## exercises: required and from previous midterms
exrequired &lt;- c(&quot;goalfinance.Rnw&quot;, &quot;pvcalc.Rnw&quot;, &quot;cashcoverageortie.Rnw&quot;,
  &quot;ocfcalc.Rnw&quot;, &quot;discountratecalc.Rnw&quot;, &quot;npvcalc.Rnw&quot;, &quot;npvcalc2.Rnw&quot;,
  &quot;stockpriceisabouttopaycalc.Rnw&quot;, &quot;annuitycalc.Rnw&quot;, &quot;irrcalc.Rnw&quot;)
exlist1 &lt;- dir(path = &quot;fin3310_exam1_exercises&quot;, pattern = &quot;\.Rnw$&quot;)
exlist2 &lt;- dir(path = &quot;fin3310_exam2_exercises&quot;, pattern = &quot;\.Rnw$&quot;)
exlist3 &lt;- dir(path = &quot;fin3310_exam3_exercises&quot;, pattern = &quot;\.Rnw$&quot;)

## final list and corresponding number to be sampled
exlist &lt;- list(
  exrequired, 
  setdiff(exlist1, exrequired),
  setdiff(exlist2, exrequired),
  exlist3
)
exnsamp &lt;- c(10, 5, 10, 15)

## generate exam
set.seed(54321) # not the actual random seed
exams2nops(file = exlist, 
  n = exnum, nsamp = exnsamp, dir = exodir, edir = exedir,
  name = &quot;fin3310exam3&quot;, date = exdate, course = excourse, title = extitle, 
  institution = &quot;Texas A\\&amp;M International University&quot;, 
  language = &quot;en_tamiu.dcf&quot;, encoding = &quot;UTF-8&quot;, 
  pages = &quot;SA_questions/exam3sa.pdf&quot;, blank = 1, logo = NULL, 
  reglength = 8, samepage = TRUE)</code></pre>

<h2 id="grading">Grading</h2>

<p>R/exams can read scans of the answer sheet, automating grading for the multiple-choice questions. For a variety of reasons, I do not use any of those features. If I had to teach larger classes I would doubtless find a way to make it convenient, but for the foreseeable future I will continue to use the function below to produce the answer key for each exam, which I grade by hand. This is not especially onorous, since I have to grade the short-answer questions by hand anyway.</p>

<p>Given the serialized R data file (.rds) produced by <code class="highlighter-rouge">exam2nops()</code> the corresponding <code class="highlighter-rouge">exams_metainfo()</code> can be extracted. This comes with a <code class="highlighter-rouge">print()</code> method that displays all correct answers for a given exam. Starting from R/exams version 2.3-3 (current R-Forge devel version) it is also possible to split the output into blocks of five for easy reading (matching the blocks on the answer sheets). As an example the first few correct answers of the third exam are extracted:</p>

<pre><code class="prettyprint ">fin3310exam3 &lt;- readRDS(&quot;fin3310exam3.rds&quot;)
print(exams_metainfo(fin3310exam1), which = 3, block = 5)</code></pre>

<pre><code>## 19043000003
##      1. Discount Rate: 1
##      2. Calculating IRR: 4
##      3. Present Value: 3
##      4. Calculating stock prices: 5
##      5. Calculating NPV: 3
## 
##      6. Annuity PV: 3
##      7. Goal of Financial Management: 1
##      8. Finding OCF: 5
##      ...
</code></pre>

<p>It can be convenient to display the correct answers in a customized format, e.g., with letters instead of numbers and omitting the exercise title text. To do so, the code below sets up a function <code class="highlighter-rouge">exam_solutions()</code>, applying it to the same exam as above.</p>

<pre><code class="prettyprint ">exam_solutions &lt;- function(examdata, examnum) {
  solutions &lt;- LETTERS[sapply(examdata[[examnum]],
                 function(x) which(x$metainfo$solution))]
  data.frame(Solution = solutions)
}
split(exam_solutions(fin3310exam3, examnum = 3), rep(1:8, each = 5))</code></pre>

<pre><code>## $`1`
##   Solution
## 1        A
## 2        D
## 3        C
## 4        E
## 5        C
## 
## $`2`
##    Solution
## 6         C
## 7         A
## 8         E
##         ...
</code></pre>

<p>The only downside of the manual grading approach is that I do not have students’ responses in an electronic format for easy statistical analysis, but otherwise grading is very fast.</p>

<h2 id="wrapping-up">Wrapping up</h2>

<p>Using the system above, R/exams works well even for small courses with in-person, paper exams. I do not need to worry about copies of my exams getting out and students memorizing it, or any of the many ways students have found to cheat over the years. By doing all the formatting work for me, R/exams helps me avoid a lot of the finicky aspects of adding, adjusting, or removing questions from an existing exam, and generally keeps exam construction focused on the important part: writing questions that gauge students’ progress.</p>

			</span>

			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					
					<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="https://eeecon.uibk.ac.at/~zeileis/" target="_blank"> Achim Zeileis</a></span>
				</span>
				

				
				<time class="icon-calendar pr20" datetime="2019-04-23" itemprop="datePublished"> 2019-04-23</time>
				

				<span class="icon-archive pr20"><a href="http://www.R-exams.org/general/">GENERAL</a></span>
				<br />
				<span class="pr20"><span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/R/">R</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/exams/">exams</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/exams2nops/">exams2nops</a></span> </span>
			</p>

			<div id="post-nav" class="row">
				
				<div class="small-6 columns"><a class="button small radius prev" href="http://www.R-exams.org/tutorials/math/">&laquo; Mathematical Notation in Online R/exams</a></div><!-- /.small-4.columns -->
				
        
				
				<div class="small-6 columns text-right"><a class="button small radius next" href="http://www.R-exams.org/general/cran_release_234/">CRAN Release of R/exams 2.3-3 and 2.3-4 &raquo;</a></div><!-- /.small-4.columns -->
				
			</div>
			</div><!--  /.page-meta -->

			

			

		</article>

    

	</div><!-- /.medium-8.columns -->


	


	
</div><!-- /.row -->


	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="icon-chevron-up" href="#top-of-page"></a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              Automatic generation  and evaluation of exams. From Markdown, LaTeX and R code to standalone documents, learning management systems and live voting.
              <!-- <a href="http://www.R-exams.org/about/">More ›</a> -->
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Services</h5>
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href=""  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
                
                  <li >
                    <a href="/sitemap.xml"  title="Sitemap for Google Webmaster Tools">sitemap.xml</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Network</h5>
              
            
              
            
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href=""  title=""></a>
                </li>
            
              
                <li >
                  <a href="https://CRAN.R-project.org/package=exams" target="_blank"  title="Software download">CRAN</a>
                </li>
            
              
                <li >
                  <a href="https://R-Forge.R-project.org/R/?group_id=1337" target="_blank"  title="Package development">R-Forge</a>
                </li>
            
              
                <li >
                  <a href="https://www.R-bloggers.com/" target="_blank"  title="R blog aggregator">R-bloggers</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="b30 small-12 medium-6 columns credits">
            <p>
            Built with
            <a href="https://jekyllrb.com/" alt="Page built with Jekyll">
              Jekyll
            </a>
             based on
             <a href="http://phlow.github.io/feeling-responsive/" alt="Page based on Feeling Responisve Theme">
               Feeling Responsive
             </a>
              by
              <a href="http://phlow.de" alt="Theme created by Phlow">Phlow</a>.
            </p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns social-icons">
            <ul class="inline-list">
            
              <li><a href="mailto:info@R-exams.org" target="_blank" class="icon-mail" title="General inquiries"></a></li>
            
              <li><a href="https://CRAN.R-project.org/package=exams" target="_blank" class="icon-cran" title="R package on CRAN"></a></li>
            
              <li><a href="http://R-Forge.R-project.org/R/?group_id=1337" target="_blank" class="icon-code" title="Source code management on R-Forge"></a></li>
            
              <li><a href="http://R-Forge.R-project.org/forum/?group_id=1337" target="_blank" class="icon-chat" title="Discussion forum on R-Forge"></a></li>
            
              <li><a href="https://StackOverflow.com/questions/tagged/exams" target="_blank" class="icon-stackoverflow" title="Ask questions on StackOverflow (tag: exams)"></a></li>
            
              <li><a href="http://twitter.com/AchimZeileis" target="_blank" class="icon-twitter" title="@AchimZeileis on Twitter"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://www.R-exams.org/assets/js/javascript.min.js"></script>
<script src="http://www.R-exams.org/assets/js/slick.min.js"></script>
















</body>
</html>

