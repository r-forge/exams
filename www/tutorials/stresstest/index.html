<!doctype html>
<html class="no-js" lang="en">
<head>
		<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Stress Testing Dynamic R/exams Exercises</title>
	<link rel="stylesheet" type="text/css" href="http://www.R-exams.org/assets/css/styles_feeling_responsive.css" />
	<script src="http://www.R-exams.org/assets/js/modernizr.min.js"></script>
  

  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
  <script>
    WebFont.load({
      google: {
        families: [ 'Lato:400,700,400italic:latin', 'Noto+Serif:400,700,400italic:latin' ]
      }
    });
  </script>

  <noscript>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css' />
  </noscript>

	
	
	<meta name="description" content="Before actually using a dynamic exercise in a course it should be thoroughly tested. While certain aspects require critical reading by a human, other aspects can be automatically stress-tested in R." />
	<meta name="keywords" content="Rmd, Rnw, arithmetic, numeric, single-choice, evaluation, exams" />
	
	<meta name="author" content="Achim Zeileis" />

	
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/icons/manifest.json">
<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#1f7a7a">
<link rel="shortcut icon" href="/assets/icons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="R/exams">
<meta name="application-name" content="R/exams">
<meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
<meta name="theme-color" content="#1f7a7a">


	<!-- Search Engine Optimization -->
	
	
	

	<!-- Facebook Optimization -->
	<meta property="og:title" content="Stress Testing Dynamic R/exams Exercises" />
	<meta property="og:description" content="Before actually using a dynamic exercise in a course it should be thoroughly tested. While certain aspects require critical reading by a human, other aspects can be automatically stress-tested in R." />
	<meta property="og:url" content="http://www.R-exams.org//tutorials/stresstest/" />
	<meta property="og:locale" content="en_EN" />
	<meta property="og:type" content="website" />
	<meta property="og:site_name" content="R/exams" />
	<meta property="og:image" content="http://www.R-exams.org/images/stresstest.300.png" />
	

	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="AchimZeileis" />
	<meta name="twitter:creator" content="AchimZeileis" />
	<meta name="twitter:title" content="Stress Testing Dynamic R/exams Exercises" />
	<meta name="twitter:description" content="Before actually using a dynamic exercise in a course it should be thoroughly tested. While certain aspects require critical reading by a human, other aspects can be automatically stress-tested in R." />
	<meta name="twitter:image" content="http://www.R-exams.org/images/stresstest.300.png" />


	<link type="text/plain" rel="author" href="http://www.R-exams.org/humans.txt" />

	

	

	<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);

  (function() {
    /// var u=(("https:" == document.location.protocol) ? "https" : "http") + "://retostauffer.org/piwik/"; ///
    var u="https" + "://retostauffer.org/piwik/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "3"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
    g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

</head>
<body id="top-of-page" class="post">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
          <a href="http://www.R-exams.org">
            <img class='nav-logo' src="http://www.R-exams.org/assets/img/logo.svg" alt="R/exams">
          </a>
          <!-- <h1 class="show-for-small-only"><a href="http://www.R-exams.org" class="icon-tree"> R/exams</a></h1> -->
      </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="left">
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://www.R-exams.org/">R/exams</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://www.R-exams.org/intro/elearning/">E-Learning</a></li>
                    

                      

                      <li><a href="http://www.R-exams.org/intro/oneforall/">One-for-All</a></li>
                    

                      

                      <li><a href="http://www.R-exams.org/intro/written/">Written Exams</a></li>
                    

                      

                      <li><a href="http://www.R-exams.org/intro/dynamic/">Dynamic Exercises</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            
              <li><a href="http://www.R-exams.org/tutorials/">Tutorials</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a href="http://www.R-exams.org/templates/">Exercise Templates</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a href="http://www.R-exams.org/blog/">Blog</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        

              

          
          
        

              

          
          
        
        
      </ul>

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.R-exams.org/resources/">Resources</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.R-exams.org/contact/">Contact</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.R-exams.org/search/">Search</a></li>

            
            
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<!-- <div id="masthead-no-image-header"> -->
	<!-- <div class="row"> -->
		<!-- <div class="small-12 columns"> -->
			<!-- <a id="logo" href="http://www.R-exams.org" title="R/exams – The One-for-All Exams Generator"> -->
				<!-- <img src="http://www.R-exams.org/assets/img/logo.svg" alt="R/exams – The One-for-All Exams Generator"> -->
			<!-- </a> -->
		<!-- </div>[> /.small-12.columns <] -->
	<!-- </div>[> /.row <] -->
<!-- </div>[> /#masthead <] -->










	<div class="row t30">
	<div class="columns medium-10 medium-offset-1 end">
		<article itemscope itemtype="http://schema.org/Article">
			<header>
				
				<figure>
					<img src="http://www.R-exams.org/images/stresstest.title.png" width="970" alt="Stress Testing Dynamic R/exams Exercises" itemprop="image">

					
					<figcaption class="text-right">
						R/exams screenshot (CC-BY).
					</figcaption>
					
				</figure>
				

				<span itemprop="name">
					
					<h1>Stress Testing Dynamic R/exams Exercises</h1>
				</span>
			</header>


			
			<p class="teaser" itemprop="description">
				Before actually using a dynamic exercise in a course it should be thoroughly tested. While certain aspects require critical reading by a human, other aspects can be automatically stress-tested in R.
			</p>
			

			<span itemprop="articleSection">
			<h2 id="motivation">Motivation</h2>

<p>After a dynamic exercise has been developed, thorough testing is recommended before administering the exercise in a student assessment. Therefore, the <a href="http://www.R-exams.org">R/exams</a> package provides the function <code class="highlighter-rouge">stresstest_exercise()</code> to aid teachers in this process. While the teachers still have to assess themselves how sensible/intelligible/appropriate/… the exercise is, the R function can help check:</p>

<ul>
  <li>whether the data-generating process works without errors or infinite loops,</li>
  <li>how long a random draw from the exercise takes,</li>
  <li>what range the correct results fall into,</li>
  <li>whether there are patterns in the results that students could leverage for guessing the correct answer.</li>
</ul>

<p>To do so, the function takes the exercise and compiles it hundreds or thousands of times. In each of the iterations the correct solution(s) and the run times are stored in a data frame along with all variables (numeric/integer/character of length 1) created by the exercise. This data frame can then be used to examine undesirable behavior of the exercise. More specifically, for some values of the variables the solutions might become extreme in some way (e.g., very small or very large etc.) or single-choice/multiple-choice answers might not be uniformly distributed.</p>

<p>In our experience such patterns are not rare in practice and our students are very good at picking them up, leveraging them for solving the exercises in exams.</p>

<h2 id="example-calculating-binomial-probabilities">Example: Calculating binomial probabilities</h2>

<p>In order to exemplify the work flow, let’s consider a simple exercise about calculating a certain binomial probability:</p>

<table>
  <tbody>
    <tr>
      <td>According to a recent survey <code class="highlighter-rouge">100 - p</code> percent of all customers in grocery stores pay cash while the rest use their credit or cash card. You are currently waiting in the queue at the checkout of a grocery story with <code class="highlighter-rouge">n</code> customers in front of you. <br /> <br /> What is the probability (in percent) that <code class="highlighter-rouge">k</code> or more of the other customers pay with their card?</td>
    </tr>
  </tbody>
</table>

<p>In R, the correct answer for this exercise can be computed as <code class="highlighter-rouge">100 * pbinom(k - 1, size = n, prob = p/100, lower.tail = FALSE)</code> which we ask for in the exercise (rounded to two digits).</p>

<p>In the folllowing, we illustrate typical problems of parameterizing such an exercise: For an exercise with numeric answer we only need to sample the variables <code class="highlighter-rouge">p</code>, <code class="highlighter-rouge">n</code>, and <code class="highlighter-rouge">k</code>. For a single-choice version we also need a certain number of wrong answers (or “distractors”), comprised of typical errors and/or random numbers. For both types of exercises we first show a version that exhibits some undesirable properties and then proceed to an improved version of it.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">#</th>
      <th style="text-align: left">Exercise templates</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial1.Rmd">binomial1.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial1.Rnw">binomial1.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">First attempt with poor parameter ranges.</td>
    </tr>
    <tr>
      <td style="text-align: right">2</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial2.Rmd">binomial2.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial2.Rnw">binomial2.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">num</code></td>
      <td style="text-align: left">As in #1 but with some parameter ranges improved.</td>
    </tr>
    <tr>
      <td style="text-align: right">3</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial3.Rmd">binomial3.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial3.Rnw">binomial3.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">Single-choice version based on #2 but with too many typical wrong solutions and poor random answers.</td>
    </tr>
    <tr>
      <td style="text-align: right">4</td>
      <td style="text-align: left"><a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial4.Rmd">binomial4.Rmd</a> <br /> <a href="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/binomial4.Rnw">binomial4.Rnw</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">schoice</code></td>
      <td style="text-align: left">As in #3 but with improved sampling of both typical errors and random solutions.</td>
    </tr>
  </tbody>
</table>

<p>If you want to replicate the illustrations below you can easily download all four exercises from within R. Here, we show how to do so for the R/Markdown (<code class="highlighter-rouge">.Rmd</code>) version of the exercise but equivalently you can also use the R\LaTeX version (<code class="highlighter-rouge">.Rnw</code>):</p>

<pre><code class="prettyprint ">for(i in paste0(extra, 1:4, &quot;.Rmd&quot;)) download.file(
  paste0(&quot;http://www.R-exams.org/assets/posts/2019-07-10-stresstest/&quot;, i), i)</code></pre>

<h2 id="numerical-exercise-first-attempt">Numerical exercise: First attempt</h2>

<p>In a first attempt we generate the parameters in the exercise as:</p>

<pre><code class="prettyprint ">## success probability in percent (= pay with card)
p &lt;- sample(0:4, size = 1)

## number of attempts (= customers in queue)
n &lt;- sample(6:9, size = 1)

## minimum number of successes (= customers who pay with card)
k &lt;- sample(2:4, 1)</code></pre>

<p>Let’s stress test this exercise:</p>

<pre><code class="prettyprint ">s1 &lt;- stresstest_exercise(&quot;binomial1.Rmd&quot;)</code></pre>

<pre><code>## 1/2/3/4/5/6/7/8/9/10/11/12/13/14/15/16/17/18/19/20/21/22/23/24/25/26/27/28/29/30/31/32/33/34/35/36/37/38/39/40/41/42/43/44/45/46/47/48/49/50/51/52/53/54/55/56/57/58/59/60/61/62/63/64/65/66/67/68/69/70/71/72/73/74/75/76/77/78/79/80/81/82/83/84/85/86/87/88/89/90/91/92/93/94/95/96/97/98/99/100
</code></pre>

<p>By default this generates 100 random draws from the exercise with seeds from 1 to 100. The seeds are also printed in the R console, seperated by slashes. Therefore, it is easy to reproduce errors that might occur when running the stress test, i.e., just <code class="highlighter-rouge">set.seed(i)</code> with <code class="highlighter-rouge">i</code> being the problematic iteration and subsequently run something like <code class="highlighter-rouge">exams2html()</code> or run the code for generating the parameters manually.</p>

<p>Here, no errors occurred but further examination shows that parameters have clearly been too extreme:</p>

<pre><code class="prettyprint ">plot(s1)</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest1-overview-1.svg" alt="plot of chunk stresstest1-overview" /></p>

<p>The left panel shows the distribution run times which shows that this was fast without any problems. However, the distribution of solutions in the right panel shows that almost all solutions are extremely small. In fact, when accessing the solutions from the object <code class="highlighter-rouge">s1</code> and summarizing them we see that a large proportion was exactly zero (due to rounding).</p>

<pre><code class="prettyprint ">summary(s1$solution)</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.0200  0.5239  0.3100  4.7800
</code></pre>

<p>You might have already noticed the source of the problems when we presented the code above: the values for <code class="highlighter-rouge">p</code> are extremely small (and even include 0) but also <code class="highlighter-rouge">k</code> is rather large. But even if we didn’t notice this in the code directly we could have detected it visually by plotting the solution against the parameter variables from the exercise:</p>

<pre><code class="prettyprint ">plot(s1, type = &quot;solution&quot;)</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest1-solution-1.svg" alt="plot of chunk stresstest1-solution" /></p>

<p><em>Remark:</em> In addition to the <code class="highlighter-rouge">solution</code> the object <code class="highlighter-rouge">s1</code> contains the <code class="highlighter-rouge">seeds</code>, the <code class="highlighter-rouge">runtime</code>, and a <code class="highlighter-rouge">data.frame</code> with all <code class="highlighter-rouge">objects</code> of length 1 that were newly created within the exercise. Sometimes it is useful to explore these in more detail manually.</p>

<pre><code class="prettyprint ">names(s1)</code></pre>

<pre><code>## [1] &quot;seeds&quot;    &quot;runtime&quot;  &quot;objects&quot;  &quot;solution&quot;
</code></pre>

<pre><code class="prettyprint ">names(s1$objects)</code></pre>

<pre><code>## [1] &quot;k&quot;   &quot;n&quot;   &quot;p&quot;   &quot;sol&quot;
</code></pre>

<h2 id="numerical-exercise-improved-version">Numerical exercise: Improved version</h2>

<p>To fix the problems detected above, we increase the range for <code class="highlighter-rouge">p</code> to be between 10 and 30 percent and reduce <code class="highlighter-rouge">k</code> to values from 1 to 3, i.e., employ the following lines in the exercise:</p>

<pre><code class="prettyprint ">p &lt;- sample(10:30, size = 1)
k &lt;- sample(1:3, 1)</code></pre>

<p>Stress testing this modified exercise yields solutions with a much better spread:</p>

<pre><code class="prettyprint ">s2 &lt;- stresstest_exercise(&quot;binomial2.Rmd&quot;)
plot(s2)</code></pre>
<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest2-overview-1.svg" alt="plot of chunk stresstest2-overview" /></p>

<p>Closer inspection shows that solutions can still become rather small:</p>

<pre><code class="prettyprint ">summary(s2$solution)</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    3.31   20.31   50.08   47.41   72.52   94.80
</code></pre>

<p>For fine tuning we might be interested in finding out when the threshold of 5 percent probability is exceeded, depending on the variables <code class="highlighter-rouge">p</code> and <code class="highlighter-rouge">k</code>. This can be done graphically via:</p>

<pre><code class="prettyprint ">plot(s2, type = &quot;solution&quot;, variables = c(&quot;p&quot;, &quot;k&quot;), threshold = 5)</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest2-solution-1.svg" alt="plot of chunk stresstest2-solution" /></p>

<p>So maybe we could increase the minimum for <code class="highlighter-rouge">p</code> from 10 to 15 percent. In the following single-choice version of the exercise we will do so in order leave more room for incorrect answers below the correct solution.</p>

<h2 id="single-choice-exercise-first-attempt">Single-choice exercise: First attempt</h2>

<p>Building on the numeric example above we now move on to set up a corresponding single-choice exercise. This is supported by more
learning management systems, e.g., for live voting or for written exams that are scanned automatically. Thus, in addition to the
correct solution we simply need to set up a certain number of distractors. Our idea is to use two distractors that are based on
typical errors students may make plus two random distractors.</p>

<pre><code class="prettyprint ">ok &lt;- FALSE
while(!ok) {
## two typical errors: 1-p vs. p, pbinom vs. dbinom
err1 &lt;- 100 * pbinom(k - 1, size = n, prob = 1 - p/100, lower.tail = FALSE)
err2 &lt;- 100 * dbinom(k, size = n, prob = p/100)

## two random errors
rand &lt;- runif(2, min = 0, max = 100)

## make sure solutions and errors are unique
ans &lt;- round(c(sol, err1, err2, rand), digits = 2)
ok &lt;- length(unique(ans)) == 5
}</code></pre>

<p>Additionally, the code makes sure that we really do obtain five distinct numbers. Even if the probability of two distractors coinciding is very small, it might occur eventually. Finally, because the correct solution is always the first element in <code class="highlighter-rouge">ans</code> we can set <code class="highlighter-rouge">exsolution</code> in the meta-information to <code class="highlighter-rouge">10000</code> but then have to set <code class="highlighter-rouge">exshuffle</code> to <code class="highlighter-rouge">TRUE</code> so that the answers are shuffled in each random draw.</p>

<p>So we are quite hopeful that our exercise will do ok in the stress test:</p>

<pre><code class="prettyprint ">s3 &lt;- stresstest_exercise(&quot;binomial3.Rmd&quot;)
plot(s3)</code></pre>
<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest3-overview-1.svg" alt="plot of chunk stresstest3-overview" /></p>

<p>The runtimes are still ok (indicating that the <code class="highlighter-rouge">while</code> loop was rarely used) as are the numeric solutions - and due to shuffling the position of the correct solution
in the answer list is completely random. However, the <em>rank</em> of the solution is not: the correct solution is never the smallest or the largest of the
answer options. The reasons for this surely have to be our typical errors:</p>

<pre><code class="prettyprint ">plot(s3, type = &quot;solution&quot;, variables = c(&quot;err1&quot;, &quot;err2&quot;))</code></pre>

<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest3-solution-1.svg" alt="plot of chunk stresstest3-solution" /></p>

<p>And indeed <code class="highlighter-rouge">err1</code> is always (much) larger than the correct solution and <code class="highlighter-rouge">err2</code> is always smaller. Of course, we could have realized this from the way we set up those typical errors but we didn’t have to - due to the stress test. Also, whether or not we consider this to be problem is a different matter. Possibly, if a certain error is very common it does not matter whether it is always larger or smaller than the correct solution.</p>

<h2 id="single-choice-exercise-improved-version">Single-choice exercise: Improved version</h2>

<p>Here, we continue to improve the exercise by randomly selecting only one of the two typical errors. Then, sometimes the error is smaller and sometimes larger than the correct solution.</p>

<pre><code class="prettyprint ">err &lt;- sample(c(err1, err2), 1)</code></pre>

<p>Moreover, we leverage the function <code class="highlighter-rouge">num_to_schoice()</code> (or equivalently <code class="highlighter-rouge">num2schoice()</code>) to sample the random distractors.</p>

<pre><code class="prettyprint ">sc &lt;- num_to_schoice(sol, wrong = err, range = c(2, 98), delta = 0.1)</code></pre>

<p>Again, this is run in a <code class="highlighter-rouge">while()</code> loop to make sure that potential errors are caught (where <code class="highlighter-rouge">num_to_schoice()</code> returns <code class="highlighter-rouge">NULL</code> and issues a warning). This has a couple of desirable features:</p>

<ul>
  <li><code class="highlighter-rouge">num_to_schoice()</code> first samples how many random solutions should be to the left and to the right of the correct solution. This makes sure that even if the correct solution is not in the middle of the admissible range (in our case: either close to 0 or to 100), it is not more likely to get greater vs. smaller distractors.</li>
  <li>We can set a minimum distance <code class="highlighter-rouge">delta</code> between all answer options (correct solution and distractors) to make sure that answers are not too close.</li>
  <li>Shuffling is also carried out automatically so <code class="highlighter-rouge">exshuffle</code> does not have to be set.</li>
</ul>

<p>Finally, the list of possible answers automatically gets LaTeX math markup <code class="highlighter-rouge">$...$</code> for nicer formatting in certain situations. Therefore, for consistency, the <code class="highlighter-rouge">binomial4</code> version of the exercise uses math markup for all numbers in the question.</p>

<p>The corresponding stress test looks sataisfactory now:</p>

<pre><code class="prettyprint ">s4 &lt;- stresstest_exercise(&quot;binomial4.Rmd&quot;)
plot(s4)</code></pre>
<p><img src="http://www.R-exams.org/assets/posts/2019-07-10-stresstest/stresstest4-overview-1.svg" alt="plot of chunk stresstest4-overview" /></p>

<p>Of course, there is still at least one number that is either larger or smaller than the correct solution so that the correct solution takes rank 1 or 5 less often than ranks 2 to 4. But this seems to be a reasonable compromise.</p>

<h2 id="summary">Summary</h2>

<p>When drawing many random versions from a certain exercise template, it is essential to thoroughly check that exercise before using it in real exams. Most importantly, of course, the authors should make sure that the story and setup is sensible, question and solution are carefully formulated, etc. But then the technical aspects should be checked as well. This should include checking whether the exercise can be rendered correctly into PDF via <code class="highlighter-rouge">exams2pdf(...)</code> and into HTML via <code class="highlighter-rouge">exams2html(...)</code> and/or possibly <code class="highlighter-rouge">exams2html(..., converter = "pandoc-mathjax")</code> (to check different forms of math rendering). And when all of this has been checked, <code class="highlighter-rouge">stresstest_exercise()</code> can help to find further problems and/or patterns that can be detected when making many random draws.</p>

<p>The problems in this tutorial could be detected with <code class="highlighter-rouge">n = 100</code> random draws. But it is possible that some edge cases occur only very rarely so that, dependending on the complexity of the data-generating process, it is often useful to use much higher values of <code class="highlighter-rouge">n</code>.</p>

<p>Note that in our <code class="highlighter-rouge">binomial*</code> exercises it would also have been possible to set up all factorial combinations of input parameters, e.g., by <code class="highlighter-rouge">expand.grid(p = 15:30, n = 6:9, k = 1:3)</code>. Then we could have asssessed directly which of these lead to ok solutions and which are too extreme. However, when the data-generating process becomes more complex this might not be so easy. The random exploration as done by <code class="highlighter-rouge">num_to_schoice()</code> is still straightforward, though.</p>

			</span>

			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					
					<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="https://eeecon.uibk.ac.at/~zeileis/" target="_blank"> Achim Zeileis</a></span>
				</span>
				

				
				<time class="icon-calendar pr20" datetime="2019-07-10" itemprop="datePublished"> 2019-07-10</time>
				

				<span class="icon-archive pr20"><a href="http://www.R-exams.org/tutorials/">TUTORIALS</a></span>
				<br />
				<span class="pr20"><span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/Rmd/">Rmd</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/Rnw/">Rnw</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/arithmetic/">arithmetic</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/numeric/">numeric</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/single-choice/">single-choice</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/evaluation/">evaluation</a></span> <span class="icon-price-tag pr10"><a href="http://www.R-exams.org/tag/exams/">exams</a></span> </span>
			</p>

			<div id="post-nav" class="row">
				
				<div class="small-6 columns"><a class="button small radius prev" href="http://www.R-exams.org/general/user2019/">&laquo; R/exams @ useR! 2019</a></div><!-- /.small-4.columns -->
				
        
				
			</div>
			</div><!--  /.page-meta -->

			

			

		</article>

    

	</div><!-- /.medium-8.columns -->


	


	
</div><!-- /.row -->


	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="icon-chevron-up" href="#top-of-page"></a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              Automatic generation  and evaluation of exams. From Markdown, LaTeX and R code to standalone documents, learning management systems and live voting.
              <!-- <a href="http://www.R-exams.org/about/">More ›</a> -->
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Services</h5>
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href=""  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
                
                  <li >
                    <a href="/sitemap.xml"  title="Sitemap for Google Webmaster Tools">sitemap.xml</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Network</h5>
              
            
              
            
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href=""  title=""></a>
                </li>
            
              
                <li >
                  <a href="https://CRAN.R-project.org/package=exams" target="_blank"  title="Software download">CRAN</a>
                </li>
            
              
                <li >
                  <a href="https://R-Forge.R-project.org/R/?group_id=1337" target="_blank"  title="Package development">R-Forge</a>
                </li>
            
              
                <li >
                  <a href="https://www.R-bloggers.com/" target="_blank"  title="R blog aggregator">R-bloggers</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="b30 small-12 medium-6 columns credits">
            <p>
            Built with
            <a href="https://jekyllrb.com/" alt="Page built with Jekyll">
              Jekyll
            </a>
             based on
             <a href="http://phlow.github.io/feeling-responsive/" alt="Page based on Feeling Responisve Theme">
               Feeling Responsive
             </a>
              by
              <a href="http://phlow.de" alt="Theme created by Phlow">Phlow</a>.
            </p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns social-icons">
            <ul class="inline-list">
            
              <li><a href="mailto:info@R-exams.org" target="_blank" class="icon-mail" title="General inquiries"></a></li>
            
              <li><a href="https://CRAN.R-project.org/package=exams" target="_blank" class="icon-cran" title="R package on CRAN"></a></li>
            
              <li><a href="http://R-Forge.R-project.org/R/?group_id=1337" target="_blank" class="icon-code" title="Source code management on R-Forge"></a></li>
            
              <li><a href="http://R-Forge.R-project.org/forum/?group_id=1337" target="_blank" class="icon-chat" title="Discussion forum on R-Forge"></a></li>
            
              <li><a href="https://StackOverflow.com/questions/tagged/exams" target="_blank" class="icon-stackoverflow" title="Ask questions on StackOverflow (tag: exams)"></a></li>
            
              <li><a href="http://twitter.com/AchimZeileis" target="_blank" class="icon-twitter" title="@AchimZeileis on Twitter"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://www.R-exams.org/assets/js/javascript.min.js"></script>
<script src="http://www.R-exams.org/assets/js/slick.min.js"></script>
















</body>
</html>

